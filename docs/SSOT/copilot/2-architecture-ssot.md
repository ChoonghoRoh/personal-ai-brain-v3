# ğŸ” Multi-Agent SSOT: ì•„í‚¤í…ì²˜ ë° ë³´ì•ˆ ê¸°ì¤€

**ì‘ì„±ì¼**: 2026-02-15
**ì—­í• **: GitHub Copilot (QA & Security Analyst) - ì£¼ë„
**í˜‘ì—…**: Claude (Backend), Gemini (Frontend), Cursor (Leader)
**ëª©ì **: ì•„í‚¤í…ì²˜ ì´í•´, ë³´ì•ˆ ê¸°ì¤€, ê²€ì¦ í¬ì¸íŠ¸ë¥¼ ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ê³µìœ 

---

## 1. ì „ì²´ ì•„í‚¤í…ì²˜

### 1.1 ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í´ë¼ì´ì–¸íŠ¸                            â”‚
â”‚                   (ì›¹ ë¸Œë¼ìš°ì € - Chrome, Firefox, Safari)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTP/REST
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (web/)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ HTML Pages   â”‚  â”‚ JavaScript   â”‚  â”‚ CSS          â”‚       â”‚
â”‚  â”‚ (15+ pages)  â”‚  â”‚ (ESM Modules)â”‚  â”‚ (Bootstrap)  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ API Call (fetch)
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Backend (FastAPI - backend/)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Middleware                                            â”‚   â”‚
â”‚  â”‚ â”œâ”€ SecurityHeadersMiddleware (ë³´ì•ˆ í—¤ë”)              â”‚   â”‚
â”‚  â”‚ â”œâ”€ RateLimitMiddleware (ìš”ì²­ ì œí•œ)                    â”‚   â”‚
â”‚  â”‚ â””â”€ AuthMiddleware (JWT/API Key ì¸ì¦)                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Router Layer (API ì—”ë“œí¬ì¸íŠ¸)                         â”‚   â”‚
â”‚  â”‚ â”œâ”€ search/        ê²€ìƒ‰ API                           â”‚   â”‚
â”‚  â”‚ â”œâ”€ ai/            AI ëŒ€í™” API                         â”‚   â”‚
â”‚  â”‚ â”œâ”€ knowledge/     ì§€ì‹ ê´€ë¦¬ API                       â”‚   â”‚
â”‚  â”‚ â”œâ”€ reasoning/     Reasoning Lab API                  â”‚   â”‚
â”‚  â”‚ â”œâ”€ admin/         Admin ì„¤ì • API                      â”‚   â”‚
â”‚  â”‚ â”œâ”€ auth/          ì¸ì¦ API                            â”‚   â”‚
â”‚  â”‚ â””â”€ system/        ì‹œìŠ¤í…œ API (ë°±ì—…, ë¡œê·¸, í†µê³„)       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Service Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)                         â”‚   â”‚
â”‚  â”‚ â”œâ”€ SearchService      ê²€ìƒ‰ ì„œë¹„ìŠ¤                     â”‚   â”‚
â”‚  â”‚ â”œâ”€ AIService          AI ì„œë¹„ìŠ¤                       â”‚   â”‚
â”‚  â”‚ â”œâ”€ KnowledgeService   ì§€ì‹ ê´€ë¦¬ ì„œë¹„ìŠ¤                â”‚   â”‚
â”‚  â”‚ â”œâ”€ ReasoningService   Reasoning ì„œë¹„ìŠ¤               â”‚   â”‚
â”‚  â”‚ â””â”€ SystemService      ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Data Access Layer (ORM, Qdrant Client)               â”‚   â”‚
â”‚  â”‚ â”œâ”€ SQLAlchemy ORM (PostgreSQL ì—°ë™)                  â”‚   â”‚
â”‚  â”‚ â””â”€ Qdrant Client (ë²¡í„° ê²€ìƒ‰)                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚                      â”‚
               â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL 15       â”‚  â”‚ Qdrant (Vector DB)   â”‚
â”‚ (ë©”íƒ€ë°ì´í„°, ê´€ê³„í˜•) â”‚  â”‚ (ë²¡í„° ì„ë² ë”©)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ollama (ë¡œì»¬ LLM)                    â”‚
â”‚ - exaone3.5:2.4b                    â”‚
â”‚ - qwen2.5:3b                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 Docker ì»¨í…Œì´ë„ˆ êµ¬ì„±

| ì»¨í…Œì´ë„ˆ            | ì´ë¯¸ì§€             | í¬íŠ¸ (í˜¸ìŠ¤íŠ¸â†’ë‚´ë¶€) | ë„¤íŠ¸ì›Œí¬    | ì—­í•          |
| ------------------- | ------------------ | ------------------ | ----------- | ------------ |
| `pab-backend-ver3`  | Dockerfile.backend | 8001â†’8000          | pab-network | FastAPI ì„œë²„ |
| `pab-postgres-ver3` | postgres:15        | 5433â†’5432          | pab-network | ê´€ê³„í˜• DB    |
| `qdrant-ver3`       | qdrant/qdrant      | 6343â†’6333          | pab-network | ë²¡í„° DB      |
| `ollama` (í˜¸ìŠ¤íŠ¸)   | ollama/ollama      | 11434              | host        | LLM ì„œë²„     |

**QA ê²€ì¦ í¬ì¸íŠ¸**:

- [ ] í¬íŠ¸ ì¶©ëŒ ì—†ìŒ (ver3 ì „ìš© í¬íŠ¸ ì‚¬ìš©)
- [ ] ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì •ìƒ (ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ )
- [ ] Ollama í˜¸ìŠ¤íŠ¸ ì ‘ê·¼ (`host.docker.internal`) ì •ìƒ

---

## 2. ë³´ì•ˆ ì•„í‚¤í…ì²˜

### 2.1 ì¸ì¦/ì¸ê°€ ê³„ì¸µ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. í´ë¼ì´ì–¸íŠ¸ ìš”ì²­                   â”‚
â”‚    Authorization: Bearer <JWT>       â”‚
â”‚    ë˜ëŠ” X-API-Key: <API_KEY>         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. AuthMiddleware (backend)         â”‚
â”‚    â”œâ”€ JWT í† í° ê²€ì¦                  â”‚
â”‚    â”‚  â”œâ”€ ì„œëª… í™•ì¸ (JWT_SECRET_KEY)  â”‚
â”‚    â”‚  â”œâ”€ ë§Œë£Œ ì‹œê°„ í™•ì¸ (exp)         â”‚
â”‚    â”‚  â””â”€ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ (sub)       â”‚
â”‚    â””â”€ API Key ê²€ì¦                   â”‚
â”‚       â””â”€ API_SECRET_KEY ë¹„êµ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ ì¸ì¦ ì„±ê³µ
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. RateLimitMiddleware               â”‚
â”‚    â”œâ”€ ìš”ì²­ í‚¤ ìƒì„± (user or IP)      â”‚
â”‚    â”œâ”€ ìš”ì²­ ì œí•œ í™•ì¸ (slowapi)       â”‚
â”‚    â””â”€ 429 ì‘ë‹µ (ì´ˆê³¼ ì‹œ)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ ì œí•œ í†µê³¼
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Router (API ì—”ë“œí¬ì¸íŠ¸)           â”‚
â”‚    â”œâ”€ ê¶Œí•œ í™•ì¸ (Depends)            â”‚
â”‚    â””â”€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**QA ê²€ì¦ í¬ì¸íŠ¸**:

- [ ] ë¹„ì¸ì¦ ìš”ì²­ â†’ 401 Unauthorized
- [ ] ë§Œë£Œ í† í° â†’ 401 Unauthorized
- [ ] ê¶Œí•œ ì—†ëŠ” ìš”ì²­ â†’ 403 Forbidden
- [ ] Rate Limit ì´ˆê³¼ â†’ 429 Too Many Requests
- [ ] Retry-After í—¤ë” í¬í•¨ í™•ì¸

### 2.2 ë°ì´í„° ë³´ì•ˆ ê³„ì¸µ

| ê³„ì¸µ              | ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜         | êµ¬í˜„ ìœ„ì¹˜                  | ê²€ì¦ ë°©ë²•        |
| ----------------- | --------------------- | -------------------------- | ---------------- |
| **ì „ì†¡**          | HTTPS (í”„ë¡œë•ì…˜)      | Nginx/Traefik              | curl -I í™•ì¸     |
| **ì¸ì¦**          | JWT + API Key         | backend/middleware/auth.py | í† í° ê²€ì¦ í…ŒìŠ¤íŠ¸ |
| **ì…ë ¥ ê²€ì¦**     | Pydantic ëª¨ë¸         | backend/routers/\*.py      | 422 ì‘ë‹µ í…ŒìŠ¤íŠ¸  |
| **SQL Injection** | SQLAlchemy ORM        | backend/models/\*.py       | ORM ì‚¬ìš© í™•ì¸    |
| **XSS**           | ì´ìŠ¤ì¼€ì´í”„, DOMPurify | web/public/js/\*.js        | innerHTML ì ê²€   |
| **CSRF**          | CSRF í† í° (ê³„íš)      | -                          | êµ¬í˜„ ì˜ˆì •        |
| **ì €ì¥**          | í™˜ê²½ ë³€ìˆ˜ (.env)      | .env                       | .gitignore í™•ì¸  |

---

## 3. ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜

### 3.1 PostgreSQL ìŠ¤í‚¤ë§ˆ

#### í•µì‹¬ í…Œì´ë¸” (9ê°œ)

| í…Œì´ë¸”                | ì—­í•              | ì£¼ìš” ì»¬ëŸ¼                            | ì¸ë±ìŠ¤                                         |
| --------------------- | ---------------- | ------------------------------------ | ---------------------------------------------- |
| `projects`            | í”„ë¡œì íŠ¸ ì •ë³´    | id, name, description                | PK(id)                                         |
| `documents`           | ë¬¸ì„œ ë©”íƒ€ë°ì´í„°  | id, project_id, title, filepath      | PK(id), FK(project_id)                         |
| `knowledge_chunks`    | ì§€ì‹ ì²­í¬        | id, document_id, content, status     | PK(id), FK(document_id), **GIN(content) ê¶Œì¥** |
| `labels`              | ê³„ì¸µí˜• ë¼ë²¨      | id, name, parent_label_id            | PK(id), FK(parent_label_id)                    |
| `knowledge_labels`    | ì²­í¬-ë¼ë²¨ ë‹¤ëŒ€ë‹¤ | id, chunk_id, label_id               | PK(id), FK(chunk_id, label_id)                 |
| `knowledge_relations` | ì²­í¬ ê°„ ê´€ê³„     | id, source_chunk_id, target_chunk_id | PK(id), FK(source_chunk_id, target_chunk_id)   |
| `memories`            | ê¸°ì–µ ì‹œìŠ¤í…œ      | id, type, content, expires_at        | PK(id), **Index(expires_at) ê¶Œì¥**             |
| `conversations`       | ëŒ€í™” ê¸°ë¡        | id, session_id, user_message         | PK(id), **Index(session_id) ê¶Œì¥**             |
| `reasoning_results`   | ì¶”ë¡  ê²°ê³¼        | id, share_id, result_data            | PK(id), UNIQUE(share_id)                       |

#### Admin í…Œì´ë¸” (7ê°œ, Phase 11)

| í…Œì´ë¸”           | ì—­í•             | ì£¼ìš” ì»¬ëŸ¼                               | íŠ¹ì§•            |
| ---------------- | --------------- | --------------------------------------- | --------------- |
| `schemas`        | Role ìŠ¤í‚¤ë§ˆ     | id(UUID), role_key, fields(JSONB)       | role_key UNIQUE |
| `templates`      | í…œí”Œë¦¿          | id(UUID), name, content, status         | Draft/Published |
| `prompt_presets` | í”„ë¡¬í”„íŠ¸ í”„ë¦¬ì…‹ | id(UUID), task_type, model_name         | íŒŒë¼ë¯¸í„° JSONB  |
| `rag_profiles`   | RAG ì„¤ì •        | id(UUID), chunk_size, top_k             | ê²€ìƒ‰ í”„ë¡œí•„     |
| `context_rules`  | ì»¨í…ìŠ¤íŠ¸ ê·œì¹™   | id(UUID), classification_logic(JSONB)   | ë¶„ë¥˜ ë¡œì§       |
| `policy_sets`    | ì •ì±… ì„¸íŠ¸       | id(UUID), FK(projects, templates, ...)  | í†µí•© ì •ì±…       |
| `audit_logs`     | ê°ì‚¬ ë¡œê·¸       | id(UUID), old_values, new_values(JSONB) | ë³€ê²½ ì´ë ¥       |

**QA ê²€ì¦ í¬ì¸íŠ¸**:

- [ ] ì™¸ë˜í‚¤ ì œì•½ì¡°ê±´ ë™ì‘ í™•ì¸ (ON DELETE CASCADE ë“±)
- [ ] ì¸ë±ìŠ¤ ì¡´ì¬ ì—¬ë¶€ (`\d+ <table>` í™•ì¸)
- [ ] JSONB ì»¬ëŸ¼ ì¿¼ë¦¬ ì„±ëŠ¥ (GIN ì¸ë±ìŠ¤ ê¶Œì¥)
- [ ] UUID vs Serial PK ì¼ê´€ì„±

### 3.2 Qdrant ì»¬ë ‰ì…˜ êµ¬ì¡°

| ì»¬ë ‰ì…˜             | ìš©ë„      | ë²¡í„° ì°¨ì›              | ë©”íƒ€ë°ì´í„°                   |
| ------------------ | --------- | ---------------------- | ---------------------------- |
| `knowledge_chunks` | ì§€ì‹ ë²¡í„° | 768 (nomic-embed-text) | chunk_id, document_id, title |

**QA ê²€ì¦ í¬ì¸íŠ¸**:

- [ ] ì»¬ë ‰ì…˜ ì¡´ì¬ ì—¬ë¶€ (`GET /collections`)
- [ ] ë²¡í„° ì°¨ì› ì¼ì¹˜ (768)
- [ ] ë©”íƒ€ë°ì´í„° í•„í„°ë§ ë™ì‘ (Qdrant Query)

---

## 4. API ë³´ì•ˆ ê¸°ì¤€

### 4.1 API ì—”ë“œí¬ì¸íŠ¸ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

| ë³´ì•ˆ í•­ëª©         | ê²€ì¦ ë°©ë²•                    | ì˜ˆì‹œ                               |
| ----------------- | ---------------------------- | ---------------------------------- |
| **ì¸ì¦ í•„ìˆ˜**     | Depends(get_current_user)    | `/api/knowledge`, `/api/reasoning` |
| **Rate Limiting** | @limiter.limit() ë°ì½”ë ˆì´í„°  | `/api/ask`, `/api/search`          |
| **ì…ë ¥ ê²€ì¦**     | Pydantic BaseModel           | ëª¨ë“  POST/PUT/PATCH ì—”ë“œí¬ì¸íŠ¸     |
| **ì—ëŸ¬ ì²˜ë¦¬**     | try-except + HTTPException   | ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸                    |
| **CORS ì„¤ì •**     | CORSMiddleware (ê°œë°œ í™˜ê²½ë§Œ) | main.py                            |

### 4.2 ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸ ë³´ì•ˆ ê²€ì¦

#### ì¸ì¦ API

```python
# backend/routers/auth/auth.py
POST /api/auth/login
- Rate Limit: 5íšŒ/ë¶„ (ë¸Œë£¨íŠ¸í¬ìŠ¤ ë°©ì§€)
- ì…ë ¥ ê²€ì¦: username, password (Pydantic)
- ì‘ë‹µ: JWT í† í° + expires_in
- ì‹¤íŒ¨: 401 Unauthorized (ì¼ë°˜ì ì¸ ë©”ì‹œì§€)

QA ì²´í¬:
- [ ] ë¸Œë£¨íŠ¸í¬ìŠ¤ ë°©ì–´ (5íšŒ ì´ˆê³¼ ì‹œ 429)
- [ ] í‹€ë¦° ë¹„ë°€ë²ˆí˜¸ ì‹œ ì‚¬ìš©ì ì¡´ì¬ ì—¬ë¶€ ë…¸ì¶œ ì•ˆ í•¨
- [ ] JWT í† í° ì„œëª… ê²€ì¦
```

#### ê²€ìƒ‰ API

```python
# backend/routers/search/search.py
GET /api/search?q=<query>&limit=<limit>
- ì¸ì¦: ì„ íƒ (ë¹„ì¸ì¦ ì‹œ ì œí•œëœ ê²°ê³¼)
- Rate Limit: 20íšŒ/ë¶„
- ì…ë ¥ ê²€ì¦: q (Query), limit (ge=1, le=100)
- SQL Injection: SQLAlchemy ORM ì‚¬ìš© âœ…

QA ì²´í¬:
- [ ] SQL Injection ì‹œë„ ('; DROP TABLE--) â†’ ì•ˆì „
- [ ] limit > 100 â†’ 422 Unprocessable Entity
- [ ] ë¹„ì¸ì¦ ìš”ì²­ â†’ ì¼ë¶€ ê²°ê³¼ë§Œ ë°˜í™˜
```

#### Admin API

```python
# backend/routers/admin/*.py
POST /api/admin/templates
- ì¸ì¦: í•„ìˆ˜ (Depends(get_current_user))
- ê¶Œí•œ: admin ì—­í•  í™•ì¸ (í–¥í›„ êµ¬í˜„)
- Rate Limit: 10íšŒ/ë¶„
- ì…ë ¥ ê²€ì¦: Pydantic TemplateCreate ëª¨ë¸

QA ì²´í¬:
- [ ] ë¹„ì¸ì¦ ìš”ì²­ â†’ 401
- [ ] admin ì•„ë‹Œ ì‚¬ìš©ì â†’ 403 (ê¶Œí•œ êµ¬í˜„ í›„)
- [ ] ì˜ëª»ëœ ì…ë ¥ â†’ 422 + ìƒì„¸ ì—ëŸ¬ ë©”ì‹œì§€
```

---

## 5. Frontend ë³´ì•ˆ ê¸°ì¤€

### 5.1 XSS ë°©ì–´

#### ìœ„í—˜ íŒ¨í„´

```javascript
// âŒ ìœ„í—˜: ì‚¬ìš©ì ì…ë ¥ì„ ì§ì ‘ innerHTMLì— ì‚½ì…
element.innerHTML = userInput;

// âŒ ìœ„í—˜: eval ì‚¬ìš©
eval(code);

// âŒ ìœ„í—˜: Function ìƒì„±ì
new Function(code)();
```

#### ì•ˆì „ íŒ¨í„´

```javascript
// âœ… ì•ˆì „: textContent ì‚¬ìš©
element.textContent = userInput;

// âœ… ì•ˆì „: DOMPurify ì‚¬ìš© (HTML í•„ìš” ì‹œ)
element.innerHTML = DOMPurify.sanitize(userInput);

// âœ… ì•ˆì „: createElement + appendChild
const div = document.createElement("div");
div.textContent = userInput;
parent.appendChild(div);
```

**QA ê²€ì¦ ë°©ë²•**:

```bash
# 1. innerHTML ì‚¬ìš© ê²€ìƒ‰
grep -r "innerHTML" web/public/js/ web/src/js/

# 2. ë°œê²¬ëœ íŒŒì¼ ê²€ì¦
# - ì‚¬ìš©ì ì…ë ¥ì´ ë“¤ì–´ê°€ëŠ”ê°€?
# - esc() ë˜ëŠ” DOMPurify ì‚¬ìš©í•˜ëŠ”ê°€?

# 3. XSS í…ŒìŠ¤íŠ¸
# ì…ë ¥ í•„ë“œì— <script>alert(1)</script> ì…ë ¥ í›„ ë™ì‘ í™•ì¸
```

### 5.2 On-Premise ê²€ì¦

#### CDN ì˜ì¡´ì„± ê²€ì‚¬

```bash
# 1. CDN URL ê²€ìƒ‰
grep -r "cdn\." web/ --include="*.html" --include="*.js"
grep -r "unpkg\.com" web/ --include="*.html"
grep -r "jsdelivr\.net" web/ --include="*.html"

# 2. ë°œê²¬ ì‹œ ì¡°ì¹˜
# - ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‹¤ìš´ë¡œë“œ â†’ web/public/libs/
# - HTML/JSì—ì„œ ë¡œì»¬ ê²½ë¡œë¡œ ë³€ê²½
#   <script src="/public/libs/marked/marked.min.js"></script>

# 3. ë„¤íŠ¸ì›Œí¬ ì°¨ë‹¨ í…ŒìŠ¤íŠ¸
# - ì¸í„°ë„· ì°¨ë‹¨ ìƒíƒœì—ì„œ ëª¨ë“  í˜ì´ì§€ ë¡œë“œ í™•ì¸
# - ê°œë°œì ë„êµ¬ Network íƒ­ì—ì„œ 404/Failed ì—†ëŠ”ì§€ í™•ì¸
```

**QA ì²´í¬ë¦¬ìŠ¤íŠ¸**:

- [ ] marked.js ë¡œì»¬í™”
- [ ] chart.js ë¡œì»¬í™”
- [ ] mermaid.js ë¡œì»¬í™”
- [ ] html2canvas.js ë¡œì»¬í™”
- [ ] jspdf.js ë¡œì»¬í™”
- [ ] ì¸í„°ë„· ì°¨ë‹¨ ìƒíƒœ í…ŒìŠ¤íŠ¸ ì™„ë£Œ

---

## 6. ì„±ëŠ¥ ë° ìµœì í™”

### 6.1 ë°±ì—”ë“œ ì„±ëŠ¥ ê¸°ì¤€

| í•­ëª©               | ëª©í‘œ   | ì¸¡ì • ë°©ë²•          | í˜„ì¬ ìƒíƒœ     |
| ------------------ | ------ | ------------------ | ------------- |
| **API ì‘ë‹µ ì‹œê°„**  | <500ms | Postman, curl      | âœ… í‰ê·  200ms |
| **ê²€ìƒ‰ ì‘ë‹µ ì‹œê°„** | <1ì´ˆ   | Qdrant Query       | âœ… í‰ê·  600ms |
| **DB ì¿¼ë¦¬**        | <100ms | SQLAlchemy logging | âš ï¸ ì¼ë¶€ N+1   |
| **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**  | <512MB | Docker stats       | âœ… í‰ê·  300MB |

**QA ìµœì í™” ê¶Œì¥**:

- [ ] N+1 ë¬¸ì œ í•´ê²° (joinedload, selectinload ì‚¬ìš©)
- [ ] DB ì¸ë±ìŠ¤ ì¶”ê°€ (Â§3.1 ì°¸ê³ )
- [ ] ìºì‹± ì „ëµ (Redis í™œìš©)

### 6.2 í”„ë¡ íŠ¸ì—”ë“œ ì„±ëŠ¥ ê¸°ì¤€

| í•­ëª©                               | ëª©í‘œ   | ì¸¡ì • ë°©ë²•  | í˜„ì¬ ìƒíƒœ   |
| ---------------------------------- | ------ | ---------- | ----------- |
| **í˜ì´ì§€ ë¡œë“œ ì‹œê°„**               | <3ì´ˆ   | Lighthouse | âš ï¸ í‰ê·  4ì´ˆ |
| **LCP (Largest Contentful Paint)** | <2.5ì´ˆ | Lighthouse | âš ï¸ 3.2ì´ˆ    |
| **FID (First Input Delay)**        | <100ms | Lighthouse | âœ… 50ms     |
| **CLS (Cumulative Layout Shift)**  | <0.1   | Lighthouse | âœ… 0.05     |

**QA ìµœì í™” ê¶Œì¥**:

- [ ] CSS/JS ë²ˆë“¤ ìµœì†Œí™”
- [ ] ì´ë¯¸ì§€ ìµœì í™” (WebP ë³€í™˜)
- [ ] ë ˆì´ì§€ ë¡œë”© ì ìš©
- [ ] ë¶ˆí•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì œê±°

---

## 7. ë°°í¬ í™˜ê²½ë³„ ë³´ì•ˆ ì„¤ì •

### 7.1 ê°œë°œ í™˜ê²½ (Development)

```python
# backend/config.py
DEBUG = True
CORS_ORIGINS = ["*"]  # ëª¨ë“  ì˜¤ë¦¬ì§„ í—ˆìš©
JWT_EXPIRE_MINUTES = 60  # 1ì‹œê°„
RATE_LIMIT_ENABLED = False  # Rate Limit ë¹„í™œì„±í™”
HSTS_ENABLED = False  # HTTPS ê°•ì œ ë¹„í™œì„±í™”
```

**QA ì²´í¬**: ê°œë°œ í™˜ê²½ ì„¤ì •ì´ í”„ë¡œë•ì…˜ì— ë°˜ì˜ë˜ì§€ ì•Šë„ë¡ í™•ì¸

### 7.2 í”„ë¡œë•ì…˜ í™˜ê²½ (Production)

```python
# backend/config.py
DEBUG = False
CORS_ORIGINS = ["https://yourdomain.com"]  # í—ˆìš©ëœ ì˜¤ë¦¬ì§„ë§Œ
JWT_EXPIRE_MINUTES = 15  # 15ë¶„ (ì§§ê²Œ)
RATE_LIMIT_ENABLED = True  # Rate Limit í™œì„±í™”
HSTS_ENABLED = True  # HTTPS ê°•ì œ
Strict-Transport-Security: max-age=31536000; includeSubDomains

# ì¶”ê°€ ë³´ì•ˆ í—¤ë”
Content-Security-Policy: default-src 'self'
```

**QA ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸**:

- [ ] DEBUG = False
- [ ] CORS_ORIGINS ì œí•œ
- [ ] JWT ë§Œë£Œ ì‹œê°„ ë‹¨ì¶• (15ë¶„)
- [ ] Rate Limit í™œì„±í™”
- [ ] HSTS í—¤ë” í™œì„±í™”
- [ ] .env íŒŒì¼ .gitignore í™•ì¸
- [ ] SECRET_KEY ê°•ë„ í™•ì¸ (32+ ë¬¸ì, ëœë¤)

---

## 8. ì•„í‚¤í…ì²˜ ê²€ì¦ ì‹œë‚˜ë¦¬ì˜¤

### 8.1 ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

```
1. ì‚¬ìš©ì ë¡œê·¸ì¸
   â†’ POST /api/auth/login
   â†’ JWT í† í° ìˆ˜ì‹ 

2. ë¬¸ì„œ ì—…ë¡œë“œ
   â†’ POST /api/documents/upload (multipart/form-data)
   â†’ íŒŒì¼ íŒŒì‹± â†’ DB ì €ì¥ â†’ Qdrant ì„ë² ë”©

3. ì§€ì‹ ê²€ìƒ‰
   â†’ GET /api/search?q=<query>
   â†’ PostgreSQL + Qdrant í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰
   â†’ ê²°ê³¼ ë°˜í™˜

4. Reasoning ì‹¤í–‰
   â†’ POST /api/reason (role, question, context)
   â†’ Ollama LLM í˜¸ì¶œ â†’ ì¶”ë¡  ê²°ê³¼ ìƒì„±
   â†’ reasoning_results í…Œì´ë¸” ì €ì¥

5. ê²°ê³¼ ê³µìœ 
   â†’ POST /api/reason/share
   â†’ share_id ìƒì„± â†’ URL ë°˜í™˜
   â†’ GET /api/reason/share/<share_id> (ì¸ì¦ ë¶ˆí•„ìš”)

QA ê²€ì¦:
- [ ] ê° ë‹¨ê³„ë³„ ì‘ë‹µ ì‹œê°„ ì¸¡ì •
- [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸ (íŒŒì¼ í¬ê¸° ì´ˆê³¼, ì˜ëª»ëœ í˜•ì‹ ë“±)
- [ ] Rate Limit ë™ì‘ í™•ì¸ (ì—°ì† ìš”ì²­)
```

### 8.2 ë™ì‹œì„± í…ŒìŠ¤íŠ¸

```bash
# 100ëª… ë™ì‹œ ê²€ìƒ‰ ìš”ì²­
ab -n 100 -c 10 -H "Authorization: Bearer <JWT>" \
   http://localhost:8001/api/search?q=test

QA ê²€ì¦:
- [ ] ëª¨ë“  ìš”ì²­ ì„±ê³µ (200 OK)
- [ ] í‰ê·  ì‘ë‹µ ì‹œê°„ <1ì´ˆ
- [ ] ì„œë²„ í¬ë˜ì‹œ ì—†ìŒ
- [ ] DB ì»¤ë„¥ì…˜ í’€ ê³ ê°ˆ ì—†ìŒ
```

---

## 8. ì—ì´ì „íŠ¸ í˜‘ì—… ê°€ì´ë“œ

### 8.1 Claude (Backend)ì„ ìœ„í•œ ì•„í‚¤í…ì²˜ ì •ë³´

#### **API ì„¤ê³„ ì‹œ ì£¼ì˜ì **

| í•­ëª©          | ìš”êµ¬ì‚¬í•­              | Copilot ê²€ì¦              |
| ------------- | --------------------- | ------------------------- |
| **ì…ë ¥ ê²€ì¦** | Pydantic ëª¨ë¸ í•„ìˆ˜    | ëª¨ë“  íŒŒë¼ë¯¸í„° íƒ€ì… í™•ì¸   |
| **ì—ëŸ¬ ì‘ë‹µ** | ì¼ê´€ëœ í˜•ì‹           | ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ í˜•ì‹ ì¼ì¹˜ |
| **íƒ€ì… íŒíŠ¸** | 100% ì™„ì„±             | íŒŒë¼ë¯¸í„° & ë°˜í™˜ê°’ ëª¨ë‘    |
| **SQL ë³´ì•ˆ**  | SQLAlchemy ORMë§Œ ì‚¬ìš© | ì›ì‹œ SQL ìŠ¤ìº”             |

**ì˜ˆì‹œ: ì…ë ¥ ê²€ì¦ êµ¬í˜„**

```python
from pydantic import BaseModel, Field

class SearchRequest(BaseModel):
    query: str = Field(..., min_length=1, max_length=500)
    limit: int = Field(default=10, ge=1, le=100)

    class Config:
        json_schema_extra = {
            "example": {
                "query": "Python í”„ë¡œê·¸ë˜ë°",
                "limit": 20
            }
        }
```

**Copilot ê²€ì¦ í•­ëª©**:

- [ ] Pydantic ëª¨ë¸ ì‚¬ìš© ì—¬ë¶€
- [ ] ê²½ê³„ê°’ ê²€ì¦ (ge, le, min_length ë“±)
- [ ] JSON ìŠ¤í‚¤ë§ˆ ì˜ˆì‹œ í¬í•¨

#### **ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì‹œ ì£¼ì˜ì **

| í•­ëª©            | ìš”êµ¬ì‚¬í•­            | Copilot ê²€ì¦       |
| --------------- | ------------------- | ------------------ |
| **ìŠ¤í‚¤ë§ˆ ë²„ì „** | migration íŒŒì¼ í•„ìˆ˜ | ëª¨ë“  ë³€ê²½ì‚¬í•­ ì¶”ì  |
| **ì¸ë±ìŠ¤**      | ì¿¼ë¦¬ ìµœì í™”         | N+1 ë¬¸ì œ í™•ì¸      |
| **ì™¸ë˜í‚¤**      | ì œì•½ì¡°ê±´ ì„¤ì •       | ì°¸ì¡° ë¬´ê²°ì„± í™•ì¸   |
| **íƒ€ì…**        | ì ì ˆí•œ ë°ì´í„° íƒ€ì…  | ì €ì¥ì†Œ íš¨ìœ¨ì„± í™•ì¸ |

**ê¶Œì¥ ì¸ë±ìŠ¤ (í˜„ì¬ ì¶”ê°€ í•„ìš”)**:

```sql
-- ì„±ëŠ¥ ê°œì„ ì„ ìœ„í•œ ì¸ë±ìŠ¤ ì¶”ê°€
CREATE INDEX idx_knowledge_chunks_content ON knowledge_chunks(content);
CREATE INDEX idx_conversations_session_id ON conversations(session_id);
CREATE INDEX idx_memories_expires_at ON memories(expires_at);
```

### 8.2 Gemini (Frontend)ì„ ìœ„í•œ ì•„í‚¤í…ì²˜ ì •ë³´

#### **API ì—°ë™ ì‹œ ì£¼ì˜ì **

| í•­ëª©          | ìš”êµ¬ì‚¬í•­                     | Copilot ê²€ì¦    |
| ------------- | ---------------------------- | --------------- |
| **ì—ëŸ¬ ì²˜ë¦¬** | try-catch + ì‚¬ìš©ì ì•Œë¦¼      | ëª¨ë“  fetch í˜¸ì¶œ |
| **ì‘ë‹µ íƒ€ì…** | TypeScript íƒ€ì… ë˜ëŠ” JSDoc   | íŒŒë¼ë¯¸í„° ëª…í™•ì„± |
| **ë¡œë”© ìƒíƒœ** | ë¡œë”© UI í‘œì‹œ                 | ì‚¬ìš©ì ê²½í—˜     |
| **ì¸ì¦**      | Authorization í—¤ë” ìë™ ì¶”ê°€ | í† í° ê²€ì¦       |

**ì˜ˆì‹œ: ì•ˆì „í•œ API í˜¸ì¶œ**

```javascript
/**
 * ê²€ìƒ‰ API í˜¸ì¶œ
 * @param {string} query - ê²€ìƒ‰ì–´
 * @param {number} limit - ê²°ê³¼ ê°œìˆ˜
 * @returns {Promise<Object>} {success, data, error}
 */
async function searchAPI(query, limit = 10) {
  try {
    const token = localStorage.getItem("auth_token");
    const response = await fetch("/api/search", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${token}`,
      },
      body: JSON.stringify({ query, limit }),
    });

    if (!response.ok) {
      throw new Error(`API Error: ${response.status}`);
    }

    const data = await response.json();
    return { success: true, data };
  } catch (error) {
    console.error("Search failed:", error);
    return { success: false, error: error.message };
  }
}
```

**Copilot ê²€ì¦ í•­ëª©**:

- [ ] try-catch ì‚¬ìš© ì—¬ë¶€
- [ ] Authorization í—¤ë” í¬í•¨
- [ ] ì—ëŸ¬ ì²˜ë¦¬ & ë¡œê¹…
- [ ] ì‚¬ìš©ì í”¼ë“œë°±

#### **On-Premise ë³´ì•ˆ ì¤€ìˆ˜**

| í•­ëª©           | ìš”êµ¬ì‚¬í•­    | Copilot ê²€ì¦              |
| -------------- | ----------- | ------------------------- |
| **CDN ì˜ì¡´ì„±** | 0ê°œ         | ëª¨ë“  ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œì»¬ í™•ì¸ |
| **ì™¸ë¶€ API**   | ê¸ˆì§€        | ì¸í„°ë„· ì°¨ë‹¨ ê°€ëŠ¥ í™•ì¸     |
| **ë¡œì»¬ ìì‚°**  | ëª¨ë“  CSS/JS | ë²ˆë“¤ í¬ê¸° í™•ì¸            |

**CDN ì˜ì¡´ì„± ì œê±° ì˜ˆì‹œ**

```html
<!-- âŒ ê¸ˆì§€: CDN ì‚¬ìš© -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<!-- âœ… ê¶Œì¥: ë¡œì»¬ íŒŒì¼ ì‚¬ìš© -->
<script src="public/js/vendor/marked.min.js"></script>
```

**Copilot ê²€ì¦ í•­ëª©**:

- [ ] ëª¨ë“  <script> íƒœê·¸ src í™•ì¸ (ë¡œì»¬ ê²½ë¡œë§Œ)
- [ ] ëª¨ë“  <link> íƒœê·¸ href í™•ì¸ (ë¡œì»¬ ê²½ë¡œë§Œ)
- [ ] @import ìŠ¤ìº” (ì™¸ë¶€ í°íŠ¸ ê¸ˆì§€)

### 8.3 Cursor (Leader)ë¥¼ ìœ„í•œ ì•„í‚¤í…ì²˜ ì •ë³´

#### **Phase ê³„íš ì‹œ ê³ ë ¤ì‚¬í•­**

| í•­ëª©          | ì„¤ëª…                    | Copilot ì—­í•         |
| ------------- | ----------------------- | ------------------- |
| **ê¸°ìˆ  ì œì•½** | On-Premise, ë¡œì»¬ LLM    | CDN ì˜ì¡´ì„± ê²€ì¦     |
| **ë³´ì•ˆ ìš”êµ¬** | JWT, Rate Limiting      | ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸     |
| **ì„±ëŠ¥ ëª©í‘œ** | API <500ms, í˜ì´ì§€ <3ì´ˆ | ë²¤ì¹˜ë§ˆí¬ ì¸¡ì •       |
| **ë°°í¬ ì¼ì •** | Phaseë³„ ë°°í¬ ê³„íš       | í’ˆì§ˆ ì ìˆ˜ ê¸°ë°˜ íŒì • |

#### **ì—ì´ì „íŠ¸ ê°„ ì˜ì¡´ì„±**

```
API ì„¤ê³„ (Claude) â”€â”€â†’ DB ìŠ¤í‚¤ë§ˆ (Claude) â”€â”€â†’ API êµ¬í˜„ (Claude)
                                                      â†“
                                        Frontend êµ¬í˜„ (Gemini)
                                                      â†“
                                        Copilot ê²€ì¦ (í†µê³¼/ê±°ë¶€)
```

---

## 9. Multi-Agent ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 9.1 Claude ê²€ì¦ í•­ëª© (Backend)

**ì½”ë“œ ë¦¬ë·° ì „ Claude ìê°€ í™•ì¸**:

- [ ] API ëª…ì„¸: Swagger ë¬¸ì„œ ìƒì„± ê°€ëŠ¥ ì—¬ë¶€
- [ ] íƒ€ì… íŒíŠ¸: ëª¨ë“  í•¨ìˆ˜ íŒŒë¼ë¯¸í„° & ë°˜í™˜ê°’
- [ ] ë…ìŠ¤íŠ¸ë§: í•¨ìˆ˜, íŒŒë¼ë¯¸í„°, ë°˜í™˜ê°’, ì˜ˆì™¸
- [ ] ì…ë ¥ ê²€ì¦: Pydantic ëª¨ë¸ ì‚¬ìš©
- [ ] SQL ë³´ì•ˆ: SQLAlchemy ORM ì‚¬ìš© (ì›ì‹œ SQL ê¸ˆì§€)
- [ ] ì—ëŸ¬ ì²˜ë¦¬: try-catch & ì ì ˆí•œ HTTP ìƒíƒœ ì½”ë“œ
- [ ] í…ŒìŠ¤íŠ¸: pytest ì‹¤í–‰ í›„ ëª¨ë‘ í†µê³¼
- [ ] ì»¤ë°‹: Git commit & PR ì¤€ë¹„

**Copilot ë¦¬ë·° í¬ì¸íŠ¸**:

- íƒ€ì… íŒíŠ¸ ëˆ„ë½ (70ì  ì°¨ê°)
- SQL Injection ìœ„í—˜ (Critical)
- ì˜ˆì™¸ ì²˜ë¦¬ ë¯¸í¡ (Medium)
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¶€ì¡± (Low)

### 9.2 Gemini ê²€ì¦ í•­ëª© (Frontend)

**ì½”ë“œ ë¦¬ë·° ì „ Gemini ìê°€ í™•ì¸**:

- [ ] UI ë™ì‘: ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ì •ìƒ ì‘ë™
- [ ] ESM ëª¨ë“ˆ: export/import ì‚¬ìš©
- [ ] JSDoc: ëª¨ë“  export í•¨ìˆ˜ ì£¼ì„
- [ ] ë³´ì•ˆ: XSS ìœ„í—˜ ì—†ìŒ (innerHTML ê¸ˆì§€)
- [ ] CDN: ì˜ì¡´ì„± 0ê°œ (ë¡œì»¬ ìì‚°ë§Œ)
- [ ] ë°˜ì‘í˜•: ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬í†± í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥: Lighthouse 70+ ì ìˆ˜
- [ ] ì»¤ë°‹: Git commit & PR ì¤€ë¹„

**Copilot ë¦¬ë·° í¬ì¸íŠ¸**:

- CDN ì˜ì¡´ì„± ë°œê²¬ (Critical)
- XSS ìœ„í—˜ (innerHTML ì‚¬ìš©)
- JSDoc ë¯¸ì‘ì„± (íƒ€ì… ëª…í™•ì„±)
- ë°˜ì‘í˜• ë””ìì¸ ë¬¸ì œ
- Lighthouse ì ìˆ˜ ì €í•˜

### 9.3 ë°°í¬ ê²€ì¦ í•­ëª© (Cursor + Copilot)

**ë°°í¬ ì „ ìµœì¢… í™•ì¸**:

- [ ] ëª¨ë“  Task DONE ìƒíƒœ
- [ ] í’ˆì§ˆ ì ìˆ˜ â‰¥70 (ëª¨ë“  Task)
- [ ] Critical/High ì´ìŠˆ 0ê°œ
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ìœ¨ 100%
- [ ] ë°°í¬ ì°¨ë‹¨ ìš”ì†Œ 0ê°œ
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ
- [ ] ë¡¤ë°± ê³„íš ìˆ˜ë¦½ ì™„ë£Œ

---

## 10. ì°¸ì¡° ë¬¸ì„œ

| ë¬¸ì„œ                                                              | ì—­í•                        |
| ----------------------------------------------------------------- | -------------------------- |
| [0-ssot-index.md](0-ssot-index.md)                                | SSOT ì¸ë±ìŠ¤                |
| [1-project-ssot.md](1-project-ssot.md)                            | í”„ë¡œì íŠ¸ ê°œìš” ë° í’ˆì§ˆ ê¸°ì¤€ |
| [3-workflow-ssot.md](3-workflow-ssot.md)                          | ì›Œí¬í”Œë¡œìš° ë° ê²€ì¦ ê¸°ì¤€    |
| [docs/README/02-architecture.md](../../README/02-architecture.md) | ì•„í‚¤í…ì²˜ ìƒì„¸ ë¬¸ì„œ         |

---

**ë‹¤ìŒ ë‹¨ê³„**: [3-workflow-ssot.md](3-workflow-ssot.md) ì½ê¸° â†’ ì›Œí¬í”Œë¡œìš° ë° ê²€ì¦ ì ˆì°¨ í™•ì¸
