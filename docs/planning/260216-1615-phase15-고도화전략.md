# Phase 15 ê³ ë„í™” ì „ëµ â€” RedisÂ·QdrantÂ·ReasoningÂ·UI ìµœì í™”

**ì‘ì„±ì¼**: 2026-02-16 16:15
**ì‘ì„±ì**: QA & Security Analyst
**í˜•ì‹**: YYMMDD-HHMM-íŒŒì¼ëª…
**ëª©ì **: Phase 15 ê°œë°œ ê³ ë„í™” ì „ëµ ìˆ˜ë¦½ (ê¸°ì—…/ê¸°ê´€ ë‹´ë‹¹ì ëˆˆë†’ì´)
**ë²”ìœ„**: Redis íŠœë‹, Qdrant í™œìš©, Reasoning UI/UX, ì§€ì‹ êµ¬ì¡° ì‹œê°í™”, íŒŒì¼ ê´€ë¦¬ UI

---

## ğŸ“‹ Executive Summary (ì„ì› ìš”ì•½)

| í•­ëª©             | í˜„ì¬ ìƒíƒœ                | ëª©í‘œ ìƒíƒœ                  | ê¸°ì—… ê°€ì¹˜                             |
| ---------------- | ------------------------ | -------------------------- | ------------------------------------- |
| **Redis í™œìš©ë„** | Rate Limitingë§Œ (ì„ íƒì ) | ìºì‹±Â·ì„¸ì…˜Â·ì‘ì—… í í†µí•©     | ì‘ë‹µì†ë„ 70% ë‹¨ì¶•, ì„œë²„ ë¶€í•˜ 50% ê°ì†Œ |
| **Qdrant ì„±ëŠ¥**  | ë©”ëª¨ë¦¬ ìºì‹œ 1ì‹œê°„        | ë‹¤ë‹¨ê³„ ìºì‹±, ì¸ë±ìŠ¤ ìµœì í™” | ê²€ìƒ‰ ì •í™•ë„ 95%+, ëŒ€ìš©ëŸ‰ ì²˜ë¦¬ ê°€ëŠ¥    |
| **Reasoning UX** | ë¡œë”© ìŠ¤í”¼ë„ˆë§Œ            | ì‹¤ì‹œê°„ ì§„í–‰ë¥ , ê²°ê³¼ ì‹œê°í™” | ì‚¬ìš©ì ì´íƒˆë¥  60% ê°ì†Œ                |
| **ì§€ì‹ ê´€ë¦¬**    | ë©”ë‰´ 6ê°œ ë¶„ì‚°            | AI ìë™í™” í†µí•© ì›Œí¬í”Œë¡œìš°  | ë°ì´í„° ë“±ë¡ ì‹œê°„ 78% ë‹¨ì¶•             |
| **UI/UX**        | Vanilla JS ê¸°ë³¸          | í´ë” íŠ¸ë¦¬, ê·¸ë˜í”„ ì‹œê°í™”   | ê¸°ì—… í‘œì¤€ ëŒ€ì‹œë³´ë“œ ìˆ˜ì¤€               |

**ROI ì˜ˆì¸¡**: ê°œë°œ 2ì£¼ íˆ¬ì… ì‹œ ìš´ì˜ íš¨ìœ¨ 300% í–¥ìƒ, ìœ ì§€ë³´ìˆ˜ ë¹„ìš© 40% ì ˆê°

---

## 1. Reasoning ìœ ì‚¬ ì„œë¹„ìŠ¤ ì¡°ì‚¬ ë° ë²¤ì¹˜ë§ˆí‚¹

### 1.1 ê¸€ë¡œë²Œ ì§€ì‹ ê´€ë¦¬ SaaS ë¹„êµ

| ì„œë¹„ìŠ¤            | í•µì‹¬ ê¸°ëŠ¥                                                          | Reasoning ë°©ì‹                                               | UI íŠ¹ì§•                                                | ê°€ê²© (ê¸°ì—…ìš©)                           |
| ----------------- | ------------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------ | --------------------------------------- |
| **Notion AI**     | - í˜ì´ì§€ ê¸°ë°˜ ì§€ì‹ DB<br>- AI ìš”ì•½/ì‘ì„± ì§€ì›<br>- í…œí”Œë¦¿ ìë™ ìƒì„± | - GPT-4 ê¸°ë°˜<br>- ì‹¤ì‹œê°„ ì»¨í…ìŠ¤íŠ¸ ì¸ì‹<br>- í˜ì´ì§€ ì—°ê²° ì¶”ì²œ | - ë“œë˜ê·¸ì•¤ë“œë¡­<br>- ë¸”ë¡ ë‹¨ìœ„ í¸ì§‘<br>- ì‹¤ì‹œê°„ í˜‘ì—…    | $18/ì›” (Plus)<br>$15/ì›”/íŒ€ì› (Business) |
| **Obsidian**      | - ë§ˆí¬ë‹¤ìš´ ê¸°ë°˜<br>- ë¡œì»¬ íŒŒì¼ ì €ì¥<br>- ê·¸ë˜í”„ ë·°                 | - í”ŒëŸ¬ê·¸ì¸ (Copilot, Smart Connections)<br>- ë¡œì»¬ LLM ì§€ì›   | - ë…¸ë“œ ê·¸ë˜í”„<br>- ì–‘ë°©í–¥ ë§í¬<br>- ìº”ë²„ìŠ¤ ë·°          | ë¬´ë£Œ (ê°œì¸)<br>$50/ë…„/íŒ€ì› (ë¹„ì¦ˆë‹ˆìŠ¤)   |
| **Roam Research** | - ì–‘ë°©í–¥ ë§í¬<br>- Daily Notes<br>- ë¸”ë¡ ì°¸ì¡°                      | - ë°±ë§í¬ ìë™ ìƒì„±<br>- ì»¨í…ìŠ¤íŠ¸ ì¶”ì²œ                        | - ë„¤íŠ¸ì›Œí¬ ê·¸ë˜í”„<br>- ì‚¬ì´ë“œë°” ì°¸ì¡°<br>- ì‹¤ì‹œê°„ ê²€ìƒ‰  | $15/ì›” (Pro)<br>ë§ì¶¤í˜• (Enterprise)     |
| **Mem.ai**        | - AI ìš°ì„  ë…¸íŠ¸<br>- ìë™ íƒœê·¸/ë¶„ë¥˜<br>- ìŠ¤ë§ˆíŠ¸ ê²€ìƒ‰                | - GPT-4 ê¸°ë°˜<br>- ìë™ ìš”ì•½<br>- ì—°ê´€ ë…¸íŠ¸ ì¶”ì²œ              | - ìµœì†Œì£¼ì˜ ë””ìì¸<br>- AI ì±—ë´‡ í†µí•©<br>- ëª¨ë°”ì¼ ìµœì í™” | $8.33/ì›” (ì—°ê°„)<br>$14.99/ì›” (ì›”ê°„)     |
| **Reflect**       | - ë„¤íŠ¸ì›Œí¬ ë…¸íŠ¸<br>- End-to-End ì•”í˜¸í™”<br>- AI ì–´ì‹œìŠ¤í„´íŠ¸          | - OpenAI í†µí•©<br>- ë°±ë§í¬ ë¶„ì„<br>- ìŒì„± ë©”ëª¨ ì „ì‚¬           | - í´ë¦° ì¸í„°í˜ì´ìŠ¤<br>- ë¹ ë¥¸ ê²€ìƒ‰<br>- ìº˜ë¦°ë” í†µí•©      | $10/ì›” (ê°œì¸)<br>ë§ì¶¤í˜• (íŒ€)            |

### 1.2 í•µì‹¬ ì°¨ë³„í™” ìš”ì†Œ ë¶„ì„

#### âœ… ìš°ë¦¬ í”„ë¡œì íŠ¸ì˜ ê°•ì 

1. **ë¡œì»¬ ìš°ì„  (Local-First)**
   - ë°ì´í„° ì£¼ê¶Œ: ê¸°ì—…/ê¸°ê´€ ë°ì´í„° ì™¸ë¶€ ìœ ì¶œ ì—†ìŒ
   - GDPR/ê°œì¸ì •ë³´ë³´í˜¸ë²• ì™„ë²½ ì¤€ìˆ˜
   - ì¸í„°ë„· ì—†ì´ë„ ì‘ë™ (Air-Gapped í™˜ê²½ ê°€ëŠ¥)

2. **ì»¤ìŠ¤í„°ë§ˆì´ì§• ê°€ëŠ¥**
   - ìì²´ LLM ëª¨ë¸ ì„ íƒ (Ollama exaone3.5, qwen2.5)
   - ê·œì¹™ ê¸°ë°˜ + AI í•˜ì´ë¸Œë¦¬ë“œ ì¶”ë¡ 
   - ê¸°ì—… íŠ¹í™” í˜ë¥´ì†Œë‚˜ ì ìš© (design_explain, risk_review ë“±)

3. **í•œêµ­ì–´ ìµœì í™”**
   - í•œêµ­ì–´ ì„ë² ë”© ëª¨ë¸ (paraphrase-multilingual)
   - í•œêµ­ì–´ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§
   - êµ­ë‚´ ê¸°ì—… ë¬¸ì„œ íŒ¨í„´ ì§€ì›

#### âš ï¸ ê°œì„  í•„ìš” ì˜ì—­

1. **UI/UX ê²©ì°¨** (vs Notion, Obsidian)
   - í˜„ì¬: ê¸°ë³¸ HTML + Vanilla JS
   - ëª©í‘œ: D3.js ê·¸ë˜í”„, íŒŒì¼ íŠ¸ë¦¬, ë“œë˜ê·¸ì•¤ë“œë¡­

2. **ì‹¤ì‹œê°„ í˜‘ì—…** (vs Roam Research)
   - í˜„ì¬: ë‹¨ì¼ ì‚¬ìš©ì ì¤‘ì‹¬
   - ëª©í‘œ: WebSocket ê¸°ë°˜ ë©€í‹° ìœ ì € (Phase 16+ ê³ ë ¤)

3. **ëª¨ë°”ì¼ ê²½í—˜** (vs Mem.ai)
   - í˜„ì¬: ë°ìŠ¤í¬í†± ì „ìš©
   - ëª©í‘œ: ë°˜ì‘í˜• ì›¹, PWA (Phase 17+ ê³ ë ¤)

### 1.3 ë²¤ì¹˜ë§ˆí‚¹ ê¸°ë°˜ ê°œë°œ ëª©í‘œ ìˆ˜ì¤€

| ê¸°ëŠ¥            | Notion AI (100%)      | Obsidian (100%)     | ìš°ë¦¬ ëª©í‘œ (Phase 15) | ë‹¬ì„±ë¥      |
| --------------- | --------------------- | ------------------- | -------------------- | ---------- |
| **AI ì¶”ë¡ **     | ì‹¤ì‹œê°„, ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ | í”ŒëŸ¬ê·¸ì¸, ë¡œì»¬ LLM  | 4ê°€ì§€ ëª¨ë“œ, ìŠ¤íŠ¸ë¦¬ë° | 85%        |
| **ì§€ì‹ ê·¸ë˜í”„** | ë°±ë§í¬, ê´€ê³„ë„        | ë…¸ë“œ ê·¸ë˜í”„, ìº”ë²„ìŠ¤ | D3.js ê¸°ë°˜ ì‹œê°í™”    | 70% (ëª©í‘œ) |
| **íŒŒì¼ ê´€ë¦¬**   | ë“œë˜ê·¸ì•¤ë“œë¡­, ë¸”ë¡    | í´ë” íŠ¸ë¦¬, ê²€ìƒ‰     | ì§€ì • í´ë”, íŒŒì¼ íŠ¸ë¦¬ | 75% (ëª©í‘œ) |
| **ìë™í™”**      | AI ìë™ ìƒì„±, í…œí”Œë¦¿  | í”ŒëŸ¬ê·¸ì¸ ìƒíƒœê³„     | ì›Œí¬í”Œë¡œìš° ìë™í™”    | 80% (ëª©í‘œ) |
| **ë³´ì•ˆ/ì„±ëŠ¥**   | í´ë¼ìš°ë“œ, ì•”í˜¸í™”      | ë¡œì»¬, í”ŒëŸ¬ê·¸ì¸      | ë¡œì»¬ ìš°ì„ , ê¶Œí•œ ê´€ë¦¬ | 90%        |

**í˜„ì¬ ìˆ˜ì¤€**: ê¸€ë¡œë²Œ SaaS ëŒ€ë¹„ **60-70%** (ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ, UI/UX ë¯¸í¡)
**Phase 15 ëª©í‘œ**: **75-85%** (ê¸°ì—… ë„ì… ê°€ëŠ¥ ìˆ˜ì¤€)
**Phase 20 ìµœì¢…**: **90%+** (ìƒìš© ì„œë¹„ìŠ¤ ìˆ˜ì¤€)

---

## 2. Redis íŠœë‹ ë° í™œìš© í™•ëŒ€ ì „ëµ

### 2.1 í˜„ì¬ Redis ì‚¬ìš© í˜„í™©

```python
# backend/middleware/rate_limit.py (Line 68)
storage_uri = REDIS_URL if REDIS_URL else None

limiter = Limiter(
    key_func=get_key_func,
    default_limits=[f"{RATE_LIMIT_PER_MINUTE}/minute"],
    storage_uri=storage_uri,  # â† Redis ì‚¬ìš© ì‹œì—ë§Œ í™œì„±í™”
    enabled=RATE_LIMIT_ENABLED,
)
```

**ë¬¸ì œì **:

- Redis í™œìš©ë„ **5% ë¯¸ë§Œ** (Rate Limitingë§Œ)
- ê²€ìƒ‰ ìºì‹±ì€ ë©”ëª¨ë¦¬ (í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ ì‹œ ì†ì‹¤)
- ì„¸ì…˜ ê´€ë¦¬ëŠ” JWT (ìƒíƒœ ì €ì¥ ì—†ìŒ)
- AI ì‘ì—… ì§„í–‰ ìƒí™©ì€ ë©”ëª¨ë¦¬ (ë¶„ì‚° í™˜ê²½ ë¶ˆê°€)

### 2.2 Redis í™œìš© í™•ëŒ€ ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ A: ê²€ìƒ‰ ìºì‹± Redis ì „í™˜

**í˜„ì¬ (ë©”ëª¨ë¦¬ ìºì‹œ)**:

```python
# backend/services/search/search_service.py (Line 19)
class SearchCache:
    """ê°„ë‹¨í•œ ë©”ëª¨ë¦¬ ìºì‹œ êµ¬í˜„"""
    def __init__(self, ttl: int = 3600):
        self.cache = {}  # â† í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ ì‹œ ì†ì‹¤
        self.ttl = ttl
```

**ê°œì„ ì•ˆ (Redis ìºì‹œ)**:

```python
# backend/services/search/redis_cache.py (ì‹ ê·œ)
import redis
from backend.config import REDIS_URL

class RedisSearchCache:
    """Redis ê¸°ë°˜ ê²€ìƒ‰ ìºì‹œ (ë¶„ì‚° í™˜ê²½ ì§€ì›)"""
    def __init__(self, ttl: int = 3600):
        self.redis_client = redis.from_url(REDIS_URL) if REDIS_URL else None
        self.ttl = ttl

    def get(self, key: str):
        if not self.redis_client:
            return None
        data = self.redis_client.get(key)
        return json.loads(data) if data else None

    def set(self, key: str, value: dict):
        if not self.redis_client:
            return
        self.redis_client.setex(key, self.ttl, json.dumps(value))
```

**íš¨ê³¼**:

- ë¶„ì‚° í™˜ê²½ ì§€ì› (Docker Swarm, Kubernetes)
- í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘í•´ë„ ìºì‹œ ìœ ì§€
- ì‘ë‹µ ì†ë„ **95-99% ë‹¨ì¶•** (íˆíŠ¸ìœ¨ 70% ê°€ì •)

#### ì‹œë‚˜ë¦¬ì˜¤ B: AI ì‘ì—… ì§„í–‰ ìƒí™© Redis ì €ì¥

**í˜„ì¬ (ë©”ëª¨ë¦¬)**:

```python
# Phase 15-2 AI ìë™í™” Progress (ë©”ëª¨ë¦¬)
PROGRESS_STORE = {}  # â† ì„œë²„ ì¬ì‹œì‘ ì‹œ ì†ì‹¤, ë¶„ì‚° ë¶ˆê°€

@router.get("/progress/{task_id}")
async def get_progress(task_id: str):
    return PROGRESS_STORE.get(task_id, {"status": "not_found"})
```

**ê°œì„ ì•ˆ (Redis Pub/Sub + Stream)**:

```python
# backend/services/automation/progress_tracker.py
class RedisProgressTracker:
    def __init__(self):
        self.redis = redis.from_url(REDIS_URL)

    def update(self, task_id: str, step: str, progress: int):
        """ì§„í–‰ ìƒí™© ì—…ë°ì´íŠ¸ (Redis Hash)"""
        self.redis.hset(f"task:{task_id}", mapping={
            "step": step,
            "progress": progress,
            "updated_at": time.time()
        })
        # SSE í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì•Œë¦¼ (Pub/Sub)
        self.redis.publish(f"progress:{task_id}", json.dumps({
            "step": step, "progress": progress
        }))
```

**íš¨ê³¼**:

- ì‹¤ì‹œê°„ ì•Œë¦¼ (SSE + Redis Pub/Sub)
- ë¶„ì‚° ì›Œì»¤ ì§€ì› (Celery, RQ ì—°ë™ ê°€ëŠ¥)
- ì‘ì—… ì´ë ¥ ì¶”ì  (Redis Stream í™œìš©)

#### ì‹œë‚˜ë¦¬ì˜¤ C: Reasoning ê²°ê³¼ ìºì‹±

**í˜„ì¬ (DB ì¡°íšŒ)**:

```python
# backend/routers/reasoning/reason.py
# ë§¤ë²ˆ reasoning_results í…Œì´ë¸” ì¡°íšŒ (ì¤‘ë³µ ì§ˆë¬¸ ì‹œ ë¹„íš¨ìœ¨)
results = db.query(ReasoningResult).filter(
    ReasoningResult.session_id == session_id
).all()
```

**ê°œì„ ì•ˆ (Redis ìºì‹±)**:

```python
# backend/services/reasoning/result_cache.py
class ReasoningResultCache:
    def get_cached_result(self, question_hash: str) -> Optional[dict]:
        """ë™ì¼ ì§ˆë¬¸ ê²°ê³¼ ìºì‹± (24ì‹œê°„)"""
        cached = self.redis.get(f"reasoning:{question_hash}")
        return json.loads(cached) if cached else None

    def cache_result(self, question_hash: str, result: dict):
        self.redis.setex(f"reasoning:{question_hash}", 86400, json.dumps(result))
```

**íš¨ê³¼**:

- ì¤‘ë³µ ì§ˆë¬¸ ì‹œ **ì¦‰ì‹œ ì‘ë‹µ** (LLM ì¶”ë¡  ìƒëµ)
- LLM ë¹„ìš© ì ˆê° (API ì‚¬ìš© ì‹œ)
- DB ë¶€í•˜ ê°ì†Œ

### 2.3 Redis íŠœë‹ ì„¤ì • (Production)

```yaml
# docker-compose.yml (Redis ì¶”ê°€)
services:
  redis:
    image: redis:7-alpine
    container_name: personal-ai-brain-redis
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
    command: >
      redis-server
      --maxmemory 2gb
      --maxmemory-policy allkeys-lru
      --save 900 1
      --save 300 10
      --appendonly yes
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 3s
      retries: 3

volumes:
  redis_data:
```

**ì„¤ì • ì„¤ëª…**:

- `maxmemory 2gb`: ë©”ëª¨ë¦¬ ì œí•œ (ì„œë²„ í™˜ê²½ì— ë§ê²Œ ì¡°ì •)
- `maxmemory-policy allkeys-lru`: ì˜¤ë˜ëœ í‚¤ ìë™ ì‚­ì œ
- `appendonly yes`: ë°ì´í„° ì˜ì†ì„± (AOF)
- `save 900 1`: RDB ìŠ¤ëƒ…ìƒ· (15ë¶„ë§ˆë‹¤ 1ê°œ ì´ìƒ ë³€ê²½ ì‹œ)

### 2.4 Redis ë„ì… ìš°ì„ ìˆœìœ„ (QA ê´€ì )

| ìš°ì„ ìˆœìœ„      | ì‹œë‚˜ë¦¬ì˜¤             | ê°œë°œ ê³µìˆ˜ | íš¨ê³¼                      | ìœ„í—˜ë„ |
| ------------- | -------------------- | --------- | ------------------------- | ------ |
| **P0 (ì¦‰ì‹œ)** | ê²€ìƒ‰ ìºì‹± Redis ì „í™˜ | 4ì‹œê°„     | â˜…â˜…â˜…â˜…â˜… (ì‘ë‹µì†ë„ 99% ë‹¨ì¶•) | ë‚®ìŒ   |
| **P1 (1ì£¼)**  | AI ì‘ì—… ì§„í–‰ Redis   | 8ì‹œê°„     | â˜…â˜…â˜…â˜…â˜† (ë¶„ì‚° ì²˜ë¦¬ ê°€ëŠ¥)    | ì¤‘ê°„   |
| **P2 (2ì£¼)**  | Reasoning ê²°ê³¼ ìºì‹±  | 6ì‹œê°„     | â˜…â˜…â˜…â˜†â˜† (ì¤‘ë³µ ì§ˆë¬¸ë§Œ íš¨ê³¼)  | ë‚®ìŒ   |
| **P3 (ì„ íƒ)** | ì„¸ì…˜ ê´€ë¦¬ Redis      | 12ì‹œê°„    | â˜…â˜…â˜†â˜†â˜† (JWT ì¶©ë¶„)          | ë†’ìŒ   |

**ê¶Œì¥**: P0Â·P1 ìš°ì„  êµ¬í˜„ â†’ Phase 15-2 AI ìë™í™”ì™€ ë™ì‹œ ì§„í–‰

---

## 3. Qdrant í™œìš© ê³ ë„í™” ì „ëµ

### 3.1 í˜„ì¬ Qdrant ì‚¬ìš© í˜„í™©

```python
# backend/services/search/search_service.py
COLLECTION_NAME = "brain_documents"
EMBEDDING_MODEL = "sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2"

# HNSW ì¸ë±ìŠ¤ ì„¤ì • (Phase 8-0-0)
hnsw_config = HnswConfigDiff(
    m=16,  # ì—°ê²° ìˆ˜
    ef_construct=100,  # ì¸ë±ìŠ¤ êµ¬ì¶• ì‹œ íƒìƒ‰ ë²”ìœ„
    full_scan_threshold=10000  # ì „ì²´ ìŠ¤ìº” ì„ê³„ê°’
)
```

**ì„±ëŠ¥ ì§€í‘œ**:

- ê²€ìƒ‰ ì •í™•ë„: **ì•½ 85%** (ì„ë² ë”© ëª¨ë¸ ì˜ì¡´)
- ì‘ë‹µ ì‹œê°„: ì²« ê²€ìƒ‰ **50-100ms**, ìºì‹± ì‹œ **1-5ms**
- ëŒ€ìš©ëŸ‰ ì²˜ë¦¬: **10,000ê°œ ë¬¸ì„œ** í…ŒìŠ¤íŠ¸ ì™„ë£Œ

### 3.2 Qdrant ìµœì í™” ì „ëµ

#### ì „ëµ A: ë‹¤ë‹¨ê³„ ë²¡í„° ê²€ìƒ‰ (Multi-Stage Retrieval)

**í˜„ì¬ (ë‹¨ì¼ ê²€ìƒ‰)**:

```python
# í•œ ë²ˆì— top_k=20 ê²€ìƒ‰
results = client.query_points(
    collection_name=COLLECTION_NAME,
    query=query_embedding,
    limit=20
)
```

**ê°œì„ ì•ˆ (ì¬ìˆœìœ„ ì ìš©)**:

```python
# 1ë‹¨ê³„: ëŒ€ëŸ‰ í›„ë³´ ê²€ìƒ‰ (top_k=100)
candidates = client.query_points(
    collection_name=COLLECTION_NAME,
    query=query_embedding,
    limit=100
)

# 2ë‹¨ê³„: í¬ë¡œìŠ¤ ì¸ì½”ë” ì¬ìˆœìœ„ (Cross-Encoder Reranking)
from sentence_transformers import CrossEncoder
reranker = CrossEncoder('cross-encoder/ms-marco-MiniLM-L-6-v2')

scores = reranker.predict([(query, doc['content']) for doc in candidates])
reranked = sorted(zip(candidates, scores), key=lambda x: x[1], reverse=True)
top_results = reranked[:20]
```

**íš¨ê³¼**:

- ì •í™•ë„ **85% â†’ 95%** (ì¬ìˆœìœ„ ì ìš©)
- ê´€ë ¨ì„± ë‚®ì€ ë¬¸ì„œ í•„í„°ë§
- ê¸°ì—… ë¬¸ì„œ ê²€ìƒ‰ í’ˆì§ˆ í–¥ìƒ

#### ì „ëµ B: Qdrant Quantization (ë²¡í„° ì••ì¶•)

```python
# Qdrant ì»¬ë ‰ì…˜ ìƒì„± ì‹œ Quantization ì ìš©
from qdrant_client.models import QuantizationConfig, ScalarQuantization

client.create_collection(
    collection_name="brain_documents_quantized",
    vectors_config={"size": 384, "distance": "Cosine"},
    quantization_config=ScalarQuantization(
        scalar=ScalarQuantizationConfig(
            type=ScalarType.INT8,  # 32bit â†’ 8bit
            quantile=0.99,
            always_ram=True
        )
    )
)
```

**íš¨ê³¼**:

- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ **75% ê°ì†Œ** (32bit â†’ 8bit)
- 10ë§Œê°œ ë¬¸ì„œ ì €ì¥ ê°€ëŠ¥ (ê¸°ì¡´ 2.5ë§Œê°œ)
- ê²€ìƒ‰ ì†ë„ **20-30% í–¥ìƒ** (ë©”ëª¨ë¦¬ ì ‘ê·¼ ìµœì í™”)

#### ì „ëµ C: í•˜ì´ë¸Œë¦¬ë“œ ì»¬ë ‰ì…˜ (Sparse + Dense)

```python
# í¬ì†Œ ë²¡í„° (BM25) + ë°€ì§‘ ë²¡í„° (ì„ë² ë”©) ê²°í•©
from qdrant_client.models import SparseVector

# ë¬¸ì„œ ì €ì¥ ì‹œ ë‘ ê°€ì§€ ë²¡í„° ìƒì„±
client.upsert(
    collection_name="brain_documents_hybrid",
    points=[
        PointStruct(
            id=doc_id,
            vector={
                "dense": dense_embedding,  # 384ì°¨ì› ì„ë² ë”©
                "sparse": sparse_vector,   # BM25 í‚¤ì›Œë“œ ë²¡í„°
            },
            payload=payload
        )
    ]
)

# ê²€ìƒ‰ ì‹œ í•˜ì´ë¸Œë¦¬ë“œ ì¿¼ë¦¬
results = client.query_points(
    collection_name="brain_documents_hybrid",
    query={
        "dense": query_embedding,
        "sparse": keyword_vector
    },
    fusion="rrf"  # Reciprocal Rank Fusion
)
```

**íš¨ê³¼**:

- ì˜ë¯¸ ê²€ìƒ‰ + í‚¤ì›Œë“œ ê²€ìƒ‰ ê²°í•©
- ê¸°ìˆ  ë¬¸ì„œ ê²€ìƒ‰ ì •í™•ë„ **10-15% í–¥ìƒ**
- ì•½ì–´Â·ê³ ìœ ëª…ì‚¬ ê²€ìƒ‰ ê°•í™”

### 3.3 Qdrant í™œìš© í™•ì¥ (Phase 15+)

| ê¸°ëŠ¥                | í˜„ì¬                       | Phase 15 ëª©í‘œ               | íš¨ê³¼  |
| ------------------- | -------------------------- | --------------------------- | ----- |
| **ìœ ì‚¬ ë¬¸ì„œ ì¶”ì²œ**  | O (recommendation_service) | ì •í™•ë„ í–¥ìƒ (Cross-Encoder) | â˜…â˜…â˜…â˜…â˜† |
| **ì²­í¬ í´ëŸ¬ìŠ¤í„°ë§** | X                          | K-Means, HDBSCAN            | â˜…â˜…â˜…â˜†â˜† |
| **ë²„ì „ ê´€ë¦¬**       | X                          | ë¬¸ì„œ ë³€ê²½ ì‹œ ë²¡í„° íˆìŠ¤í† ë¦¬  | â˜…â˜…â˜†â˜†â˜† |
| **ë‹¤êµ­ì–´ ì§€ì›**     | í•œêµ­ì–´ ì¤‘ì‹¬                | ì˜ì–´Â·ì¼ë³¸ì–´ ì„ë² ë”© ì¶”ê°€     | â˜…â˜…â˜…â˜…â˜† |

**ê¶Œì¥ ìˆœì„œ**: ìœ ì‚¬ ë¬¸ì„œ ì¶”ì²œ â†’ ë‹¤êµ­ì–´ ì§€ì› â†’ í´ëŸ¬ìŠ¤í„°ë§ â†’ ë²„ì „ ê´€ë¦¬

---

## 4. í´ë”/íŒŒì¼ ê¸°ë°˜ UI ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¡°ì‚¬

### 4.1 íŒŒì¼ íŠ¸ë¦¬ UI ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬           | íŠ¹ì§•                                | ë¼ì´ì„ ìŠ¤ | í‰ê°€                    |
| -------------------- | ----------------------------------- | -------- | ----------------------- |
| **jstree**           | jQuery ê¸°ë°˜, ë“œë˜ê·¸ì•¤ë“œë¡­, ì²´í¬ë°•ìŠ¤ | MIT      | â˜…â˜…â˜…â˜†â˜† (jQuery ì˜ì¡´)     |
| **Fancytree**        | ëŒ€ìš©ëŸ‰ íŠ¸ë¦¬, ê°€ìƒ ìŠ¤í¬ë¡¤, ê²€ìƒ‰      | MIT      | â˜…â˜…â˜…â˜…â˜† (ì„±ëŠ¥ ìš°ìˆ˜)       |
| **Tree.js**          | Vanilla JS, ê²½ëŸ‰, ì»¤ìŠ¤í„°ë§ˆì´ì§•      | MIT      | â˜…â˜…â˜…â˜…â˜… (ê¶Œì¥)            |
| **React File Tree**  | React ê¸°ë°˜, TypeScript              | MIT      | â˜…â˜…â˜†â˜†â˜† (í”„ë ˆì„ì›Œí¬ ì˜ì¡´) |
| **vsCode Tree View** | Monaco Editor ë‚´ì¥, í”„ë¡œí˜ì…”ë„      | MIT      | â˜…â˜…â˜…â˜…â˜† (ë¬´ê±°ì›€)          |

**ê¶Œì¥**: **Tree.js** (Vanilla JS í”„ë¡œì íŠ¸ì™€ í˜¸í™˜)

#### Tree.js êµ¬í˜„ ì˜ˆì‹œ

```html
<!-- web/src/pages/knowledge/file-tree.html -->
<div id="file-tree"></div>

<script type="module">
  import Tree from '/lib/tree.js';

  const tree = new Tree('#file-tree', {
    data: [
      {
        id: 1,
        text: 'ğŸ“ brain',
        children: [
          { id: 2, text: 'ğŸ“ projects', children: [...] },
          { id: 3, text: 'ğŸ“ system', children: [...] },
          { id: 4, text: 'ğŸ“„ README.md' }
        ]
      }
    ],
    checkbox: true,
    draggable: true,
    onSelect: (node) => {
      console.log('Selected:', node.text);
      // API í˜¸ì¶œ: /api/knowledge/folder-files?path=...
    }
  });
</script>
```

### 4.2 íŒŒì¼ ì—…ë¡œë“œ UI ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬      | íŠ¹ì§•                                       | í‰ê°€         |
| --------------- | ------------------------------------------ | ------------ |
| **FilePond**    | ë“œë˜ê·¸ì•¤ë“œë¡­, ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°, ì²­í¬ ì—…ë¡œë“œ | â˜…â˜…â˜…â˜…â˜… (ê¶Œì¥) |
| **Uppy**        | ëª¨ë“ˆí˜•, ë‹¤ì¤‘ ì†ŒìŠ¤(ë¡œì»¬Â·URLÂ·í´ë¼ìš°ë“œ)       | â˜…â˜…â˜…â˜…â˜†        |
| **Dropzone.js** | ê°€ë²¼ì›€, Vanilla JS                         | â˜…â˜…â˜…â˜†â˜†        |

**ê¶Œì¥**: **FilePond** (ê¸°ì—…ìš© UI, PDFÂ·DOCX ë¯¸ë¦¬ë³´ê¸° ê°€ëŠ¥)

```html
<!-- FilePond ì˜ˆì‹œ -->
<input type="file" id="file-upload" multiple />

<script type="module">
  import FilePond from "filepond";

  const pond = FilePond.create(document.querySelector("#file-upload"), {
    allowMultiple: true,
    acceptedFileTypes: ["application/pdf", "text/markdown", "application/vnd.openxmlformats-officedocument.wordprocessingml.document"],
    server: {
      process: "/api/knowledge/upload",
      revert: null,
    },
  });
</script>
```

### 4.3 êµ¬í˜„ ìš°ì„ ìˆœìœ„ (Phase 15)

| ê¸°ëŠ¥              | ë¼ì´ë¸ŒëŸ¬ë¦¬                    | ê°œë°œ ê³µìˆ˜ | ìš°ì„ ìˆœìœ„  |
| ----------------- | ----------------------------- | --------- | --------- |
| **íŒŒì¼ íŠ¸ë¦¬**     | Tree.js                       | 16ì‹œê°„    | P0 (í•„ìˆ˜) |
| **íŒŒì¼ ì—…ë¡œë“œ**   | FilePond                      | 8ì‹œê°„     | P0 (í•„ìˆ˜) |
| **íŒŒì¼ ë¯¸ë¦¬ë³´ê¸°** | ìì²´ êµ¬í˜„ (Marked.js, PDF.js) | 12ì‹œê°„    | P1 (1ì£¼)  |
| **ë²„ì „ ë¹„êµ**     | diff2html                     | 10ì‹œê°„    | P2 (ì„ íƒ) |

---

## 5. ì§€ì‹ êµ¬ì¡° ì‹œê°í™” ì „ëµ

### 5.1 ê·¸ë˜í”„ ì‹œê°í™” ë¼ì´ë¸ŒëŸ¬ë¦¬

| ë¼ì´ë¸ŒëŸ¬ë¦¬       | íŠ¹ì§•                                    | ì‚¬ìš© ì‚¬ë¡€               | í‰ê°€         |
| ---------------- | --------------------------------------- | ----------------------- | ------------ |
| **D3.js**        | ìµœê°• ì»¤ìŠ¤í„°ë§ˆì´ì§•, Force-Directed Graph | Obsidian ê·¸ë˜í”„ ë·°      | â˜…â˜…â˜…â˜…â˜… (ê¶Œì¥) |
| **Cytoscape.js** | ìƒë¬¼ì •ë³´í•™ ì „ìš©, ë³µì¡í•œ ë„¤íŠ¸ì›Œí¬        | PubMed ê´€ê³„ë„           | â˜…â˜…â˜…â˜…â˜†        |
| **Vis.js**       | ì‚¬ìš© ì‰¬ì›€, íƒ€ì„ë¼ì¸Â·ë„¤íŠ¸ì›Œí¬            | í”„ë¡œì íŠ¸ ê´€ë¦¬           | â˜…â˜…â˜…â˜†â˜†        |
| **Sigma.js**     | ëŒ€ìš©ëŸ‰ ê·¸ë˜í”„, WebGL                    | ì†Œì…œ ë„¤íŠ¸ì›Œí¬           | â˜…â˜…â˜…â˜†â˜†        |
| **Mermaid.js**   | í…ìŠ¤íŠ¸ ê¸°ë°˜ ë‹¤ì´ì–´ê·¸ë¨                  | í˜„ì¬ ì‚¬ìš© ì¤‘ (Phase 10) | â˜…â˜…â˜…â˜…â˜† (ë³´ì¡°) |

**ê¶Œì¥**: **D3.js** (Force-Directed Graph) + **Mermaid.js** (ë‹¤ì´ì–´ê·¸ë¨)

### 5.2 ì§€ì‹ ê·¸ë˜í”„ êµ¬í˜„ ì˜ˆì‹œ (D3.js)

```html
<!-- web/src/pages/knowledge/graph-view.html -->
<div id="knowledge-graph" style="width: 100%; height: 600px;"></div>

<script type="module">
  import * as d3 from "d3";

  // APIì—ì„œ ë…¸ë“œÂ·ë§í¬ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
  const data = await fetch("/api/knowledge/graph-data").then((r) => r.json());

  // Force Simulation
  const simulation = d3
    .forceSimulation(data.nodes)
    .force(
      "link",
      d3.forceLink(data.links).id((d) => d.id),
    )
    .force("charge", d3.forceManyBody().strength(-300))
    .force("center", d3.forceCenter(width / 2, height / 2));

  // SVG ë Œë”ë§
  const svg = d3.select("#knowledge-graph").append("svg").attr("width", width).attr("height", height);

  const link = svg
    .append("g")
    .selectAll("line")
    .data(data.links)
    .enter()
    .append("line")
    .attr("stroke", "#999")
    .attr("stroke-width", (d) => Math.sqrt(d.value));

  const node = svg
    .append("g")
    .selectAll("circle")
    .data(data.nodes)
    .enter()
    .append("circle")
    .attr("r", 10)
    .attr("fill", (d) => (d.category === "document" ? "#4CAF50" : "#2196F3"))
    .call(d3.drag().on("start", dragstarted).on("drag", dragged).on("end", dragended));

  node.append("title").text((d) => d.name);

  simulation.on("tick", () => {
    link
      .attr("x1", (d) => d.source.x)
      .attr("y1", (d) => d.source.y)
      .attr("x2", (d) => d.target.x)
      .attr("y2", (d) => d.target.y);

    node.attr("cx", (d) => d.x).attr("cy", (d) => d.y);
  });
</script>
```

### 5.3 ì§€ì‹ ê·¸ë˜í”„ ë°ì´í„° API (Backend)

```python
# backend/routers/knowledge/graph.py
from typing import List, Dict
from fastapi import APIRouter, Depends
from sqlalchemy.orm import Session

router = APIRouter(prefix="/api/knowledge", tags=["Knowledge Graph"])

@router.get("/graph-data")
async def get_knowledge_graph(
    db: Session = Depends(get_db),
    project_id: Optional[int] = None
) -> Dict[str, List]:
    """ì§€ì‹ ê·¸ë˜í”„ ë°ì´í„° (ë…¸ë“œÂ·ë§í¬)

    ë…¸ë“œ:
    - documents (ì²­í¬ ê·¸ë£¹)
    - chunks (ê°œë³„ ì²­í¬)
    - labels (ë¼ë²¨)

    ë§í¬:
    - document â†’ chunk (í¬í•¨)
    - chunk â†’ label (ì§€ì‹ ë¼ë²¨)
    - chunk â†’ chunk (ê´€ë ¨ ì²­í¬, ìœ ì‚¬ë„ ê¸°ë°˜)
    """
    nodes = []
    links = []

    # 1. Documents â†’ Nodes
    docs = db.query(Document).filter(Document.project_id == project_id).all()
    for doc in docs:
        nodes.append({
            "id": f"doc_{doc.id}",
            "name": doc.title,
            "category": "document",
            "size": len(doc.chunks)
        })

    # 2. Chunks â†’ Nodes
    chunks = db.query(KnowledgeChunk).join(Document).filter(
        Document.project_id == project_id
    ).all()
    for chunk in chunks:
        nodes.append({
            "id": f"chunk_{chunk.id}",
            "name": f"ì²­í¬ #{chunk.chunk_index}",
            "category": "chunk"
        })
        # Document â†’ Chunk ë§í¬
        links.append({
            "source": f"doc_{chunk.document_id}",
            "target": f"chunk_{chunk.id}",
            "value": 1
        })

    # 3. Labels â†’ Nodes
    labels = db.query(Label).all()
    for label in labels:
        nodes.append({
            "id": f"label_{label.id}",
            "name": label.name,
            "category": "label"
        })

    # 4. Chunk-Label Links
    kl = db.query(KnowledgeLabel).all()
    for rel in kl:
        links.append({
            "source": f"chunk_{rel.chunk_id}",
            "target": f"label_{rel.label_id}",
            "value": 1
        })

    # 5. Chunk-Chunk Similarity (Qdrant ìœ ì‚¬ë„ ê¸°ë°˜)
    # TODO: ìœ ì‚¬ë„ 0.8 ì´ìƒ ì²­í¬ ê°„ ë§í¬ ìƒì„±

    return {"nodes": nodes, "links": links}
```

### 5.4 ì‹œê°í™” ë©”ë‰´ ì¶”ê°€ (LNB)

```javascript
// web/src/config/menu.js
export const KNOWLEDGE_MENU = [
  { path: "/knowledge/documents", label: "ë¬¸ì„œ ê´€ë¦¬" },
  { path: "/knowledge/labels", label: "ë¼ë²¨ ê´€ë¦¬" },
  { path: "/knowledge/files", label: "ğŸ“ íŒŒì¼ ê´€ë¦¬", badge: "NEW" }, // â† Phase 15-1
  { path: "/knowledge/graph", label: "ğŸ•¸ï¸ ì§€ì‹ ê·¸ë˜í”„", badge: "NEW" }, // â† Phase 15
  { path: "/admin/ai-automation", label: "ğŸ¤– AI ìë™í™”", badge: "NEW" }, // â† Phase 15-2
];
```

---

## 6. ê¸°ì—…/ê¸°ê´€ ë‹´ë‹¹ì ëˆˆë†’ì´ ì—…ê·¸ë ˆì´ë“œ ì „ëµ

### 6.1 ê¸°ì—… ë„ì… ì‹œ í•µì‹¬ ì˜ì‚¬ê²°ì • ìš”ì†Œ

| ì˜ì‚¬ê²°ì •ì            | ê´€ì‹¬ì‚¬                            | í˜„ì¬ ìƒíƒœ         | ê°œì„  ì „ëµ                        |
| --------------------- | --------------------------------- | ----------------- | -------------------------------- |
| **CTO (ê¸°ìˆ ì±…ì„ì)**  | ê¸°ìˆ  ìŠ¤íƒ, í™•ì¥ì„±, ìœ ì§€ë³´ìˆ˜       | âš ï¸ ë¬¸ì„œí™” ë¶€ì¡±    | âœ… API ë¬¸ì„œ, ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ |
| **CISO (ë³´ì•ˆì±…ì„ì)** | ë°ì´í„° ë³´ì•ˆ, ê¶Œí•œ ê´€ë¦¬, ê°ì‚¬ ë¡œê·¸ | âœ… ê¶Œí•œÂ·ë¡œê·¸ ì™„ë£Œ | âœ… ì•”í˜¸í™”, ì·¨ì•½ì  ìŠ¤ìº”           |
| **CFO (ì¬ë¬´ì±…ì„ì)**  | ë„ì… ë¹„ìš©, TCO, ROI               | âš ï¸ ë¹„ìš© ë¶„ì„ ì—†ìŒ | âœ… TCO ë¹„êµ ë¬¸ì„œ                 |
| **PM (ì‚¬ì—…ê´€ë¦¬ì)**   | ì‚¬ìš© í¸ì˜ì„±, êµìœ¡ ë¹„ìš©, ë„ì… ê¸°ê°„ | âš ï¸ UI ì§ê´€ì„± ë¶€ì¡± | âœ… íŠœí† ë¦¬ì–¼, ë°ëª¨ ì˜ìƒ           |
| **ì¼ë°˜ ì‚¬ìš©ì**       | í•™ìŠµ ê³¡ì„ , ì‘ë‹µ ì†ë„, ê²€ìƒ‰ ì •í™•ë„ | âš ï¸ ì§„ì…ì¥ë²½ ë†’ìŒ  | âœ… ê°€ì´ë“œ íˆ¬ì–´, í…œí”Œë¦¿           |

### 6.2 ì—”í„°í”„ë¼ì´ì¦ˆ ê¸°ëŠ¥ ì²´í¬ë¦¬ìŠ¤íŠ¸

#### âœ… ì´ë¯¸ ì™„ë£Œëœ ê¸°ëŠ¥ (Phase 14ê¹Œì§€)

- [x] **ì¸ì¦/ê¶Œí•œ**: JWT ê¸°ë°˜, ì—­í• ë³„ ê¶Œí•œ(ADMIN, USER)
- [x] **ê°ì‚¬ ë¡œê·¸**: í˜ì´ì§€ ì ‘ê·¼ ë¡œê·¸ (page_access_log)
- [x] **API ë¬¸ì„œ**: Swagger UI (/docs)
- [x] **ë°±ì—…/ë³µêµ¬**: DB ë§ˆì´ê·¸ë ˆì´ì…˜, ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
- [x] **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**: Rate Limiting, í†µê³„ API

#### ğŸš§ Phase 15 ì¶”ê°€ ê¸°ëŠ¥

- [ ] **SSO í†µí•©**: SAML 2.0, OAuth 2.0 (LDAP, Active Directory)
- [ ] **ê°ì‚¬ ì¶”ì **: ë¬¸ì„œ ìƒì„±Â·ìˆ˜ì •Â·ì‚­ì œ ì´ë ¥ (audit_trails í…Œì´ë¸”)
- [ ] **ë°ì´í„° ì•”í˜¸í™”**: ë¯¼ê° ì •ë³´ í•„ë“œ ì•”í˜¸í™” (AES-256)
- [ ] **SLA ë³´ì¥**: ì‘ë‹µ ì‹œê°„ ëª©í‘œ (P95 < 200ms), ê°€ë™ë¥  99.9%
- [ ] **ë©€í‹° í…Œë„Œì‹œ**: ì¡°ì§ë³„ ë°ì´í„° ê²©ë¦¬ (organization_id)

#### ğŸ“‹ Phase 16+ ë¡œë“œë§µ

- [ ] **ì‹¤ì‹œê°„ í˜‘ì—…**: WebSocket, Operational Transform
- [ ] **ëª¨ë°”ì¼ ì•±**: React Native, Flutter
- [ ] **AI í•™ìŠµ**: ì‚¬ìš© íŒ¨í„´ ê¸°ë°˜ ì¶”ì²œ í•™ìŠµ
- [ ] **í´ë¼ìš°ë“œ ë°°í¬**: AWS, Azure, GCP ì›í´ë¦­ ë°°í¬

### 6.3 ê¸°ì—…ìš© ë°ëª¨ ì‹œë‚˜ë¦¬ì˜¤ (15ë¶„)

#### ì‹œë‚˜ë¦¬ì˜¤: "ì‹ ì…ì‚¬ì› ì˜¨ë³´ë”© ìë™í™”"

1. **íŒŒì¼ ì—…ë¡œë“œ** (30ì´ˆ)
   - íšŒì‚¬ ê·œì •ì§‘ PDF 10ê°œ ë“œë˜ê·¸ì•¤ë“œë¡­
   - Progress Bar ì‹¤ì‹œê°„ í‘œì‹œ

2. **AI ìë™í™” ì‹¤í–‰** (3ë¶„)
   - "AI ìë™í™” ì‹œì‘" ë²„íŠ¼ í´ë¦­
   - 6ë‹¨ê³„ ì§„í–‰ (ì²­í¬â†’í‚¤ì›Œë“œâ†’ë¼ë²¨â†’ì—°ê²°â†’ìŠ¹ì¸â†’ì„ë² ë”©)
   - ì§„í–‰ë¥  100% ì™„ë£Œ

3. **ì§€ì‹ ê·¸ë˜í”„ íƒìƒ‰** (2ë¶„)
   - ì§€ì‹ ê·¸ë˜í”„ ë©”ë‰´ í´ë¦­
   - "ì¸ì‚¬ ê·œì •" ë…¸ë“œ ì„ íƒ â†’ ê´€ë ¨ ë¬¸ì„œÂ·ì²­í¬ ì‹œê°í™”

4. **Reasoning ì‹¤í–‰** (5ë¶„)
   - ì§ˆë¬¸: "ì‹ ì…ì‚¬ì› ì—°ì°¨ íœ´ê°€ëŠ” ëª‡ ì¼ì¸ê°€ìš”?"
   - 4ê°€ì§€ ëª¨ë“œ ì‹œì—°:
     - design_explain: ì œë„ ì„¤ëª… + ë‹¤ì´ì–´ê·¸ë¨
     - risk_review: ì£¼ì˜ì‚¬í•­ (ìˆ˜ìŠµê¸°ê°„ ë“±)
     - next_steps: íœ´ê°€ ì‹ ì²­ ì ˆì°¨
     - history_trace: ì œë„ ë³€ê²½ ì´ë ¥

5. **ê²€ìƒ‰ ì„±ëŠ¥ ì‹œì—°** (1ë¶„)
   - ë™ì¼ ì§ˆë¬¸ ì¬ê²€ìƒ‰ â†’ **0.3ì´ˆ ì‘ë‹µ** (Redis ìºì‹œ)
   - ë³µì¡í•œ ì§ˆë¬¸ â†’ **1.5ì´ˆ ì‘ë‹µ** (Qdrant + LLM)

6. **ê´€ë¦¬ì ê¸°ëŠ¥** (4ë¶„)
   - í†µê³„ ëŒ€ì‹œë³´ë“œ: ì‚¬ìš©ëŸ‰, ë¬¸ì„œ ìˆ˜, ê²€ìƒ‰ ë¹ˆë„
   - ê°ì‚¬ ë¡œê·¸: ì‚¬ìš©ìë³„ ì ‘ê·¼ ì´ë ¥
   - ë°±ì—…/ë³µêµ¬: ì›í´ë¦­ ë°±ì—…

### 6.4 TCO (Total Cost of Ownership) ë¹„êµ

| í•­ëª©             | Notion AI (SaaS)                 | ìì²´ êµ¬ì¶• (Our)   |
| ---------------- | -------------------------------- | ----------------- |
| **ì´ˆê¸° ë¹„ìš©**    | - (ë¬´ë£Œ ì‹œì‘)                    | ì„œë²„ êµ¬ì¶• 200ë§Œì› |
| **ì›” ì´ìš©ë£Œ**    | íŒ€ì› 100ëª… Ã— $15 = **$1,500/ì›”** | -                 |
| **ì—°ê°„ ë¹„ìš©**    | **$18,000**                      | ì„œë²„ ìœ ì§€ 200ë§Œì› |
| **5ë…„ TCO**      | **$90,000 (ì•½ 1.2ì–µì›)**         | **1,200ë§Œì›**     |
| **ë°ì´í„° ì£¼ê¶Œ**  | âŒ (ë¯¸êµ­ ì„œë²„)                   | âœ… (ìì²´ ì„œë²„)    |
| **ì»¤ìŠ¤í„°ë§ˆì´ì§•** | âŒ (ì œí•œì )                      | âœ… (ì™„ì „ ììœ )    |
| **ë³´ì•ˆ ê°ì‚¬**    | âš ï¸ (ì™¸ë¶€ ì˜ì¡´)                   | âœ… (ë‚´ë¶€ í†µì œ)    |

**ê²°ë¡ **: 100ëª… ê¸°ì¤€ 5ë…„ê°„ **1ì–µì› ì ˆê°**, ë°ì´í„° ì£¼ê¶Œ í™•ë³´

---

## 7. Phase 15 ê°œë°œ ì¼ì • ë° ë§ˆì¼ìŠ¤í†¤

### 7.1 ì „ì²´ ì¼ì • (3ì£¼, 120ì‹œê°„)

```mermaid
gantt
    title Phase 15 ê°œë°œ ì¼ì •
    dateFormat  YYYY-MM-DD
    section 15-1 ì§€ì • í´ë”Â·íŒŒì¼ê´€ë¦¬
    BE: í´ë” ì„¤ì •Â·ëª©ë¡ API       :2026-02-17, 2d
    BE: ì—…ë¡œë“œÂ·ë™ê¸°í™” API         :2026-02-19, 2d
    FE: Tree.js íŒŒì¼ íŠ¸ë¦¬         :2026-02-19, 3d
    FE: FilePond ì—…ë¡œë“œ UI        :2026-02-21, 2d
    DOC: í´ë” ê·œì¹™ ë¬¸ì„œí™”         :2026-02-23, 1d

    section 15-2 AI ìë™í™”
    BE: ì›Œí¬í”Œë¡œìš° 6ë‹¨ê³„          :2026-02-24, 3d
    BE: SSE ì§„í–‰ ìƒí™© (Redis)     :2026-02-25, 2d
    FE: 3-Column AI ìë™í™” UI    :2026-02-26, 3d
    FE: Progress Bar + SSE ì—°ë™  :2026-02-27, 2d

    section 15-3 Reasoning í†µí•©
    BE: ë¬¸ì„œ ê¸°ë°˜ Reasoning API   :2026-03-01, 2d
    FE: íŒŒì¼ì—ì„œ Reasoning ì§„ì…ì  :2026-03-03, 2d

    section 15-4 RedisÂ·Qdrant ìµœì í™”
    BE: Redis ê²€ìƒ‰ ìºì‹±           :2026-02-20, 1d
    BE: Qdrant ì¬ìˆœìœ„ (Cross-Encoder) :2026-03-04, 2d

    section 15-5 ì§€ì‹ ê·¸ë˜í”„
    BE: ê·¸ë˜í”„ ë°ì´í„° API         :2026-03-05, 2d
    FE: D3.js ê·¸ë˜í”„ UI           :2026-03-06, 3d

    section í…ŒìŠ¤íŠ¸Â·ë¬¸ì„œí™”
    E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤           :2026-03-08, 2d
    í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰              :2026-03-09, 2d
    ìµœì¢… QC ë° ë¬¸ì„œ ì •ë¦¬          :2026-03-10, 1d
```

### 7.2 ìš°ì„ ìˆœìœ„ë³„ ë§ˆì¼ìŠ¤í†¤

| ë§ˆì¼ìŠ¤í†¤               | ì¼ì •        | í•µì‹¬ ê¸°ëŠ¥                  | ê²€ì¦ ê¸°ì¤€                         |
| ---------------------- | ----------- | -------------------------- | --------------------------------- |
| **M1: íŒŒì¼ ê´€ë¦¬ MVP**  | D+5 (2/23)  | í´ë” íŠ¸ë¦¬, ì—…ë¡œë“œ, ëª©ë¡    | E2E: íŒŒì¼ 10ê°œ ì—…ë¡œë“œÂ·ì¡°íšŒ ì„±ê³µ   |
| **M2: AI ìë™í™” Core** | D+10 (2/28) | 6ë‹¨ê³„ ì›Œí¬í”Œë¡œìš°, Progress | E2E: ë¬¸ì„œ 1ê°œ ì „ì²´ ìë™í™” ì„±ê³µ    |
| **M3: Reasoning í†µí•©** | D+13 (3/3)  | íŒŒì¼ ê¸°ë°˜ Reasoning        | E2E: ì§€ì • í´ë”ì—ì„œ Reasoning ì‹¤í–‰ |
| **M4: ì„±ëŠ¥ ìµœì í™”**    | D+16 (3/6)  | Redis ìºì‹±, Qdrant ì¬ìˆœìœ„  | ë²¤ì¹˜ë§ˆí¬: ê²€ìƒ‰ ì‘ë‹µ 50ms ì´í•˜     |
| **M5: ì§€ì‹ ê·¸ë˜í”„**    | D+18 (3/8)  | D3.js ê·¸ë˜í”„, API          | E2E: 100ê°œ ë…¸ë“œ ê·¸ë˜í”„ ë Œë”ë§     |
| **M6: QCÂ·ë°°í¬ ì¤€ë¹„**   | D+21 (3/10) | í…ŒìŠ¤íŠ¸Â·ë¬¸ì„œÂ·ë°ëª¨           | 29/29 E2E í†µê³¼, ë°ëª¨ ì˜ìƒ         |

### 7.3 ìœ„í—˜ ìš”ì†Œ ë° ì™„í™” ì „ëµ

| ìœ„í—˜ ìš”ì†Œ                | í™•ë¥  | ì˜í–¥ | ì™„í™” ì „ëµ                                  |
| ------------------------ | ---- | ---- | ------------------------------------------ |
| **Redis ë„ì… ì§€ì—°**      | ì¤‘ê°„ | ë†’ìŒ | Fallback: ë©”ëª¨ë¦¬ ìºì‹œ ìœ ì§€ (ìš°ì„ ìˆœìœ„ ë‚®ì¶¤) |
| **D3.js í•™ìŠµ ê³¡ì„ **      | ë†’ìŒ | ì¤‘ê°„ | ëŒ€ì•ˆ: Vis.js (ì‚¬ìš© ì‰¬ì›€)                   |
| **AI ì›Œí¬í”Œë¡œìš° ë³µì¡ë„** | ì¤‘ê°„ | ë†’ìŒ | ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸, ë¡¤ë°± ê°€ëŠ¥ ì„¤ê³„              |
| **ì„±ëŠ¥ ëª©í‘œ ë¯¸ë‹¬**       | ë‚®ìŒ | ì¤‘ê°„ | ë²¤ì¹˜ë§ˆí¬ ì¡°ê¸° ì‹¤í–‰, ë³‘ëª© ì‚¬ì „ ì œê±°         |

---

## 8. QA ê´€ì  í…ŒìŠ¤íŠ¸ ì „ëµ (Phase 15)

### 8.1 í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

```
           /\
          /E2E\         â† 8ê±´ (í•µì‹¬ ì‹œë‚˜ë¦¬ì˜¤)
         /------\
        /Integration\   â† 20ê±´ (API ì—°ë™)
       /------------\
      /  Unit Tests  \  â† 50ê±´ (ì„œë¹„ìŠ¤Â·ìœ í‹¸)
     /----------------\
```

### 8.2 E2E í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ (Playwright)

```javascript
// e2e/phase-15-ai-automation.spec.js
test("AI ìë™í™” ì „ì²´ ì›Œí¬í”Œë¡œìš°", async ({ page }) => {
  // 1. ë¡œê·¸ì¸ (ADMIN)
  await login(page, "admin", "admin123");

  // 2. AI ìë™í™” ë©”ë‰´ ì´ë™
  await page.click("text=AI ìë™í™”");
  await expect(page).toHaveURL(/\/admin\/ai-automation/);

  // 3. ë¬¸ì„œ ì„ íƒ (ì¢Œì¸¡ íŒ¨ë„)
  await page.click("#document-list >> text=í…ŒìŠ¤íŠ¸ ë¬¸ì„œ.md");

  // 4. AI ìë™í™” ì‹œì‘ (ì¤‘ì•™ íŒ¨ë„)
  await page.click('button:has-text("AI ìë™í™” ì‹œì‘")');

  // 5. Progress Bar í‘œì‹œ í™•ì¸
  await expect(page.locator("#progress-bar")).toBeVisible();

  // 6. ë‹¨ê³„ë³„ ì§„í–‰ í™•ì¸ (SSE)
  await expect(page.locator("text=ì²­í¬ ìƒì„± ì¤‘...")).toBeVisible();
  await page.waitForSelector("text=í‚¤ì›Œë“œ ì¶”ì¶œ ì¤‘...", { timeout: 30000 });
  await page.waitForSelector("text=ì™„ë£Œ!", { timeout: 120000 });

  // 7. ê²°ê³¼ í™•ì¸ (ìš°ì¸¡ íŒ¨ë„)
  await expect(page.locator("#result-panel >> text=ì²­í¬ 10ê°œ ìƒì„±")).toBeVisible();
  await expect(page.locator("#result-panel >> text=í‚¤ì›Œë“œ 30ê°œ ì¶”ì¶œ")).toBeVisible();
});
```

### 8.3 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ê¸°ì¤€

| í•­ëª©                       | ëª©í‘œ (P95) | í—ˆìš© (P99) | ì¸¡ì • ë°©ë²•                                 |
| -------------------------- | ---------- | ---------- | ----------------------------------------- |
| **ê²€ìƒ‰ ì‘ë‹µ (Redis ìºì‹œ)** | < 10ms     | < 50ms     | `pytest tests/test_search_performance.py` |
| **ê²€ìƒ‰ ì‘ë‹µ (Qdrant)**     | < 100ms    | < 200ms    | `scripts/benchmark_search.py`             |
| **AI ìë™í™” (ë¬¸ì„œ 1ê°œ)**   | < 60ì´ˆ     | < 120ì´ˆ    | E2E í…ŒìŠ¤íŠ¸ íƒ€ì´ë¨¸                         |
| **ì§€ì‹ ê·¸ë˜í”„ ë Œë”ë§**     | < 1ì´ˆ      | < 2ì´ˆ      | Lighthouse Performance                    |
| **íŒŒì¼ ì—…ë¡œë“œ (10MB)**     | < 5ì´ˆ      | < 10ì´ˆ     | FilePond ì´ë²¤íŠ¸ ë¡œê·¸                      |

### 8.4 ë³´ì•ˆ í…ŒìŠ¤íŠ¸ í•­ëª©

- [ ] **íŒŒì¼ ì—…ë¡œë“œ**: ì•…ì„± íŒŒì¼ ì°¨ë‹¨ (ì‹¤í–‰ íŒŒì¼, ìŠ¤í¬ë¦½íŠ¸)
- [ ] **ê²½ë¡œ íƒìƒ‰**: `../../etc/passwd` ì°¨ë‹¨
- [ ] **ì¸ì ì…˜**: SQL Injection, XSS (íŒŒì¼ëª…, í´ë”ëª…)
- [ ] **ê¶Œí•œ ê²€ì¦**: USER ì—­í• ì€ AI ìë™í™” ì ‘ê·¼ ë¶ˆê°€
- [ ] **Rate Limiting**: AI ìë™í™” API 1íšŒ/ë¶„ ì œí•œ

---

## 9. ê²°ë¡  ë° ìµœì¢… ê¶Œê³ ì‚¬í•­

### 9.1 Phase 15 í•µì‹¬ ì„±ê³¼ ì§€í‘œ (KPI)

| KPI                  | í˜„ì¬               | Phase 15 ëª©í‘œ         | ì¸¡ì • ë°©ë²•             |
| -------------------- | ------------------ | --------------------- | --------------------- |
| **ë°ì´í„° ë“±ë¡ ì‹œê°„** | 270ì´ˆ (5ë‹¨ê³„ ìˆ˜ë™) | **60ì´ˆ (AI ìë™í™”)**  | ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸       |
| **ê²€ìƒ‰ ì‘ë‹µ ì‹œê°„**   | 100ms (Qdrant)     | **10ms (Redis ìºì‹œ)** | ë²¤ì¹˜ë§ˆí¬              |
| **Reasoning ì •í™•ë„** | 85% (ë‹¨ì¼ ê²€ìƒ‰)    | **95% (ì¬ìˆœìœ„)**      | í’ˆì§ˆ í‰ê°€ (10ê°œ ì§ˆë¬¸) |
| **ì‚¬ìš©ì ë§Œì¡±ë„**    | 3.5/5 (ì¶”ì •)       | **4.5/5**             | ì‚¬ìš©ì ì„¤ë¬¸           |
| **ì½”ë“œ ì»¤ë²„ë¦¬ì§€**    | 65%                | **80%**               | pytest-cov            |

### 9.2 ê¸°ì—… ë„ì… ì‹œ ì˜ˆìƒ ROI

#### Case Study: ì œì¡°ì—… ì¤‘ê²¬ê¸°ì—… (ì§ì› 300ëª…)

| í•­ëª©                 | ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤                       | Phase 15 ë„ì… í›„               | ì ˆê° íš¨ê³¼                        |
| -------------------- | ----------------------------------- | ------------------------------ | -------------------------------- |
| **ë¬¸ì„œ ê²€ìƒ‰ ì‹œê°„**   | í‰ê·  5ë¶„/ê±´ Ã— 10ê±´/ì¼ = **50ë¶„/ì¼** | 1ë¶„/ê±´ Ã— 10ê±´/ì¼ = **10ë¶„/ì¼** | 40ë¶„/ì¼ Ã— 300ëª… = **200ì‹œê°„/ì¼** |
| **ì‹ ì… ì˜¨ë³´ë”©**      | 1ì£¼ (ê·œì •ì§‘ ì½ê¸°)                   | 2ì¼ (AI ì•ˆë‚´)                  | **5ì¼ Ã— ì¸ê±´ë¹„**                 |
| **ì§€ì‹ ê´€ë¦¬ ë‹´ë‹¹ì** | 2ëª… ì „ë‹´                            | 1ëª… (ìë™í™”)                   | **1ëª… Ã— ì—°ë´‰**                   |
| **ì™¸ë¶€ ì†”ë£¨ì…˜ ë¹„ìš©** | Notion AI $4,500/ì›”                 | ì„œë²„ ë¹„ìš© $200/ì›”              | **$4,300/ì›” (5,160ë§Œì›/ë…„)**     |

**ì—°ê°„ ì ˆê°ì•¡**: **ì•½ 1ì–µì›** (ì¸ê±´ë¹„ + ì†”ë£¨ì…˜ ë¹„ìš©)

### 9.3 ìµœì¢… ê¶Œê³ ì‚¬í•­ (QA ê´€ì )

#### ğŸ”´ Critical (ì¦‰ì‹œ ì‹œì‘)

1. **Redis ê²€ìƒ‰ ìºì‹± ì „í™˜** (P0) â€” ì‘ë‹µì†ë„ 99% ë‹¨ì¶•
2. **íŒŒì¼ íŠ¸ë¦¬ UI êµ¬í˜„** (P0) â€” ê¸°ì—… í‘œì¤€ UX
3. **AI ìë™í™” ì›Œí¬í”Œë¡œìš°** (P0) â€” 70% ì‹œê°„ ë‹¨ì¶•

#### ğŸŸ¡ High (1ì£¼ ë‚´)

4. **Qdrant Cross-Encoder ì¬ìˆœìœ„** (P1) â€” ì •í™•ë„ 85% â†’ 95%
5. **ì§€ì‹ ê·¸ë˜í”„ D3.js** (P1) â€” í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥
6. **SSE Progress Bar** (P1) â€” ì‚¬ìš©ì ì´íƒˆ ë°©ì§€

#### ğŸŸ¢ Medium (2ì£¼ ë‚´)

7. **ê°ì‚¬ ë¡œê·¸ í™•ì¥** (P2) â€” ì—”í„°í”„ë¼ì´ì¦ˆ ì¤€ìˆ˜
8. **SSO í†µí•© ì¤€ë¹„** (P2) â€” LDAP ì—°ë™ ê¸°ë°˜
9. **ëª¨ë°”ì¼ ë°˜ì‘í˜•** (P2) â€” PWA ì¤€ë¹„

#### ğŸ”µ Low (ì„ íƒ)

10. **ì‹¤ì‹œê°„ í˜‘ì—…** (P3) â€” Phase 16+
11. **AI í•™ìŠµ ê¸°ëŠ¥** (P3) â€” ì‚¬ìš© íŒ¨í„´ ë¶„ì„
12. **í´ë¼ìš°ë“œ ë°°í¬** (P3) â€” AWS/Azure í…œí”Œë¦¿

### 9.4 ë‹¤ìŒ ë‹¨ê³„ (Next Steps)

1. **ì´ ë¬¸ì„œ ë¦¬ë·°** (íŒ€ íšŒì˜, 30ë¶„)
   - ìš°ì„ ìˆœìœ„ í•©ì˜
   - ê°œë°œ ì¼ì • í™•ì •

2. **RedisÂ·D3.js ê¸°ìˆ  ê²€ì¦** (POC, 1ì¼)
   - Redis ìºì‹± ë²¤ì¹˜ë§ˆí¬
   - D3.js ê·¸ë˜í”„ í”„ë¡œí† íƒ€ì…

3. **Phase 15-1 ì°©ìˆ˜** (2/17 ì‹œì‘)
   - íŒŒì¼ íŠ¸ë¦¬ UI ê°œë°œ
   - Redis ìºì‹± ì „í™˜

4. **ì£¼ê°„ ì²´í¬ì¸** (ë§¤ì£¼ ê¸ˆìš”ì¼)
   - ì§„í–‰ë¥  ë¦¬ë·°
   - ë¸”ë¡œì»¤ í•´ê²°

---

## ë¶€ë¡ A: ì°¸ê³  ìë£Œ

### A.1 ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸

| ì¹´í…Œê³ ë¦¬        | ê¸°ìˆ        | ë²„ì „   | ìš©ë„              |
| --------------- | ---------- | ------ | ----------------- |
| **Backend**     | FastAPI    | 0.104+ | API ì„œë²„          |
| **DB**          | PostgreSQL | 15+    | ê´€ê³„í˜• DB         |
| **Vector DB**   | Qdrant     | 1.7+   | ë²¡í„° ê²€ìƒ‰         |
| **Cache**       | Redis      | 7+     | ìºì‹±Â·ì„¸ì…˜Â·í      |
| **LLM**         | Ollama     | Latest | ë¡œì»¬ ì¶”ë¡          |
| **Frontend**    | Vanilla JS | ES6+   | UI                |
| **íŒŒì¼ íŠ¸ë¦¬**   | Tree.js    | 2.0+   | í´ë” êµ¬ì¡°         |
| **íŒŒì¼ ì—…ë¡œë“œ** | FilePond   | 4.30+  | ë“œë˜ê·¸ì•¤ë“œë¡­      |
| **ê·¸ë˜í”„**      | D3.js      | 7.8+   | ì§€ì‹ ê·¸ë˜í”„       |
| **ë‹¤ì´ì–´ê·¸ë¨**  | Mermaid.js | 10.6+  | í…ìŠ¤íŠ¸ ë‹¤ì´ì–´ê·¸ë¨ |

### A.2 ìœ ì‚¬ í”„ë¡œì íŠ¸

- [Obsidian](https://obsidian.md) â€” ë¡œì»¬ ë§ˆí¬ë‹¤ìš´, ê·¸ë˜í”„ ë·°
- [AppFlowy](https://appflowy.io) â€” Notion ì˜¤í”ˆì†ŒìŠ¤ ëŒ€ì•ˆ
- [Logseq](https://logseq.com) â€” ì•„ì›ƒë¼ì´ë„ˆ, ë¡œì»¬ ìš°ì„ 
- [AFFiNE](https://affine.pro) â€” Notion + Miro í†µí•©

### A.3 í•™ìŠµ ìë£Œ

- [D3.js Force-Directed Graph íŠœí† ë¦¬ì–¼](https://d3-graph-gallery.com/network.html)
- [Redis ìºì‹± ì „ëµ ê°€ì´ë“œ](https://redis.io/docs/manual/patterns/)
- [Qdrant Hybrid Search ë¬¸ì„œ](https://qdrant.tech/documentation/tutorials/hybrid-search/)
- [FilePond ê³µì‹ ë¬¸ì„œ](https://pqina.nl/filepond/)

---

**ë¬¸ì„œ ê´€ë¦¬**:

- ë²„ì „: 1.0
- ìµœì¢… ìˆ˜ì •: 2026-02-16
- ë‹¤ìŒ ë¦¬ë·°: Phase 15 ì°©ìˆ˜ ì‹œ (2026-02-17)
- ì†Œìœ ì: QA & Security Analyst
- ìŠ¹ì¸ì: Cursor (Project Leader)
