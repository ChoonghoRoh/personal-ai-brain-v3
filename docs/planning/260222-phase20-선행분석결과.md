# Phase 20 선행 분석 결과

**작성일**: 2026-02-22
**분석 목적**: Phase 20 범위 확정 전, 현재 앱 규모·기존 커버 영역·미커버 공백을 식별하고 추가 고도화 항목 3가지를 도출
**산출물 연결**: [Phase 20 작업목록](260222-phase20-작업목록.md) §2.6, §2.7, §2.8에 반영 완료

---

## 1. 현재 앱 규모

| 지표 | 수치 |
|------|------|
| 사용자 페이지 | 28개 |
| API 엔드포인트 | 250+ |
| JS 모듈 | 75+ |
| 라우터 모듈 | 50+ |
| Phase 19까지 | 관리자 도구 고도화 완료 (키워드 추천, 그룹 UI, 청크 탭 통합, 통계 레이아웃) |
| Phase 20 방향 | 사용자 경험 3축(검색/AI질의/지식구조) + 리팩토링 + 청크 2단계 |

---

## 2. Phase 20 기존 커버 영역 (20-0 ~ 20-5)

| Sub-Phase | 커버 영역 |
|:---------:|----------|
| 20-0 | Phase 19 FE 버그 5건 (ISS-1, ISS-4, ISS-5, ISS-6, ISS-7) |
| 20-1 | 코드 분리 리팩토링 5건 (R1~R5, REFACTOR-2 규정) |
| 20-2 | 청크 Stepper + 빠른 생성/승인 워크플로우 |
| 20-3 | 검색 필터 + 결과 근거 + GIN 인덱스 |
| 20-4 | AI 답변 출처 + RAG 필터 + 컨텍스트 미리보기 |
| 20-5 | 승인 이력 타임라인 + 라벨/관계 일관성 검사 |

---

## 3. 분석에서 발견된 주요 공백

| 영역 | 현 상태 | Phase 20 커버? |
|------|---------|:--------------:|
| `/ask` 채팅 UX | 로그형 나열, 스트리밍 없음, 대화 관리 없음 | 20-4는 출처/필터만 |
| 코그니티브 시스템 | BE에 5개 모듈(Memory/Context/Learning/Personality/Metacognition) 20+ API 존재, FE UI 전무 | **미커버** |
| 지식 그래프 | "Chunk #56" 제너릭 라벨, 컬러코딩 없음, 인터랙션 최소 | **미커버** |
| `/knowledge` 지식구조 페이지 | 폴더 카운트만 표시, 빈 공간 과다, 앱 내 가장 미완성 | 20-5는 이력/검사만 |
| 네비게이션 | 20+ 사이드바 항목, URL 패턴 불일치, 중복 메뉴 | ISS-4만 |
| 대화 관리/내보내기 | API 없음, 명시적으로 "Phase 20+ 이후"로 유보 | **미커버** |

---

## 4. 추천 3가지: Phase 20 추가 고도화 메뉴항목

### 추천 1: AI 대화 UX 리뉴얼 (/ask → 현대적 Chat Interface) — Phase 20-6

**현 상태**: `/ask` 페이지가 앱 내 가장 낙후된 UX — Q&A 로그를 단순 나열, 스트리밍 없음, 대화 세션 개념 없음, 답변별 액션(복사/평가/공유) 없음. 반면 `/reason` (Reasoning Lab)은 세션 관리·페이지네이션·모드 선택까지 갖춤.

**개선 범위**:

| 기능 | 설명 | 도메인 |
|------|------|:------:|
| 채팅 버블 UI | 사용자/AI 메시지 시각 분리, 타임스탬프, 아바타 | [FE] |
| SSE 스트리밍 답변 | `/api/ai` 응답을 토큰 단위 실시간 표시 (Reasoning Lab 패턴 재사용) | [FS] |
| 대화 세션 관리 | 세션 목록 사이드바 + 새 대화/이어가기 + 세션 제목 자동 생성 | [FS] |
| 답변별 액션 | 복사/Markdown 내보내기/출처 펼치기/피드백(좋음/나쁨) | [FE] |
| 대화 내보내기 | 세션 단위 Markdown/JSON 다운로드 | [FS] |

**전략적 가치**: PAB의 가장 빈번한 사용자 접점이 AI 질의인데, 현 UX가 2023년 이전 수준. 20-4(출처/RAG 필터)와 분리 가능 — 20-4는 "데이터 품질", 이 항목은 "인터랙션 품질".

**예상 난이도**: 중간 (SSE 인프라는 Reasoning Lab에 이미 존재, 패턴 재사용 가능)

---

### 추천 2: 코그니티브 대시보드 (Memory · Learning · Personality 통합 뷰) — Phase 20-7

**현 상태**: 백엔드에 5개 코그니티브 모듈(Memory, Context, Learning, Personality, Metacognition)이 20+ API 엔드포인트로 구현되어 있으나, 프론트엔드 UI가 전혀 없음. 앱 이름이 "Personal AI Brain"인데 두뇌의 인지 능력을 사용자가 볼 수 없는 상태.

**개선 범위**:

| 기능 | 설명 | 관련 BE API |
|------|------|:-----------:|
| 메모리 뷰어 | 장기/단기/작업 기억 시각화 — AI가 무엇을 기억하는지 확인 | `/api/memory` |
| 학습 인사이트 | 사용자 패턴 분석 결과 — "최근 관심사", "자주 질문하는 주제" | `/api/learning` |
| 퍼스널리티 프로필 | 사용자 선호도 모델 — AI 응답 스타일 조정 근거 | `/api/personality` |
| 메타인지 지표 | AI 확신도/불확실도 시각화 — 답변 신뢰도 대시보드 | `/api/metacognition` |
| 컨텍스트 맵 | 문서 간 연결 관계를 AI가 어떻게 이해하는지 시각화 | `/api/context` |

**전략적 가치**: PAB의 핵심 차별화 요소. 단순 RAG 챗봇이 아닌 "개인 AI 두뇌"라는 제품 정체성을 실현하는 핵심 기능. 백엔드가 이미 구현되어 있어 FE 개발만으로 가시적 결과 도출 가능.

**예상 난이도**: 중간~높음 (BE는 완성, FE 대시보드 신규 설계 필요)

---

### 추천 3: 지식 그래프 인터랙티브 탐색 (/knowledge-graph 고도화) — Phase 20-8

**현 상태**: D3.js 기반 force-directed 그래프가 존재하나, 노드가 "Chunk #56" 등 제너릭 라벨만 표시. 컬러코딩 없음, 필터 없음, 클릭 시 상세 없음. 78노드/50링크로 정보 가치 거의 없는 프로토타입 수준.

**개선 범위**:

| 기능 | 설명 | 도메인 |
|------|------|:------:|
| 시맨틱 노드 라벨 | 청크 제목/키워드 기반 의미 있는 라벨 + 라벨 유형별 컬러 코딩 | [FS] |
| 인터랙티브 탐색 | 노드 클릭 → 청크 미리보기, 더블클릭 → 관계 확장, 호버 → 연결 하이라이트 | [FE] |
| 필터 패널 | 프로젝트/라벨/관계타입/시간범위 필터 + 깊이(hop) 제어 | [FS] |
| 그래프 → AI 질의 연계 | 선택한 노드 그룹을 AI 질의 컨텍스트로 전달 | [FS] |
| 클러스터 시각화 | 커뮤니티 감지 기반 자동 그룹핑 + 주제별 영역 표시 | [FE] |

**전략적 가치**: 지식 관리 시스템의 "발견(Discovery)" 기능 — 사용자가 몰랐던 지식 간 연결을 시각적으로 탐색. 20-5(지식구조 일관성)와 시너지 — 20-5에서 관계 품질 확보 → 그래프 탐색 가치 극대화.

**예상 난이도**: 중간 (D3.js 기반 존재, API `/api/knowledge/graph` 존재, 확장 설계)

---

## 5. 요약 비교

| # | 항목 | 영향도 | 차별화 | 난이도 | BE 준비도 | 시너지 |
|---|------|:------:|:------:|:------:|:---------:|:------:|
| 1 | AI 대화 UX 리뉴얼 | **최고** | 중 | 중 | SSE 존재 | 20-4 |
| 2 | 코그니티브 대시보드 | 높음 | **최고** | 중~높 | **완성** | 독립 |
| 3 | 지식 그래프 탐색 | 높음 | 높음 | 중 | API 존재 | 20-5 |

3가지 모두 기존 Phase 20 (20-0~20-5)과 **독립 또는 시너지 관계**이며, 백엔드 인프라가 이미 존재하여 **프론트엔드 중심 개발**로 가시적 결과를 낼 수 있다.

---

## 6. Phase 20 작업목록 반영 현황

| 반영 항목 | 반영 위치 | 상태 |
|----------|----------|:----:|
| AI 대화 UX 리뉴얼 상세 | [§2.6](260222-phase20-작업목록.md#26-ai-대화-ux-리뉴얼-p2--phase-20-6) | 완료 |
| 코그니티브 대시보드 상세 | [§2.7](260222-phase20-작업목록.md#27-코그니티브-대시보드-p2--phase-20-7) | 완료 |
| 지식 그래프 탐색 상세 | [§2.8](260222-phase20-작업목록.md#28-지식-그래프-인터랙티브-탐색-p2--phase-20-8) | 완료 |
| 의존성 다이어그램 (§4) | [§4](260222-phase20-작업목록.md#4-의존성-분석) | 완료 |
| Phase Chain (§5) | [§5](260222-phase20-작업목록.md#5-phase-chain-구성-제안) | 완료 |
| 우선순위 근거 (§6) | [§6](260222-phase20-작업목록.md#6-우선순위-근거) | 완료 |
| 기술 검토 (§7) | [§7](260222-phase20-작업목록.md#7-기술-검토-사항) | 완료 |
| 향후 확장 (§8) | [§8](260222-phase20-작업목록.md#8-향후-확장-phase-20-이후) | 완료 |
| 구현 검증 지표 (§10) | [§10](260222-phase20-작업목록.md#10-구현-검증-지표-선행-분석-기반) | 완료 |
