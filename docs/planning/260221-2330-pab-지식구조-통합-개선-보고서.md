# PAB 지식구조 통합/개선 보고서

**작성일**: 2026-02-21 23:30
**범위**: 지식 구조 메뉴(/knowledge) 및 지식 CRUD/라벨/관계/승인 흐름
**근거 문서**: [docs/overview/cursor-overview-260208.md](../overview/cursor-overview-260208.md), [docs/overview/vscode-overview-260208.md](../overview/vscode-overview-260208.md), [docs/planning/260218-phase19-작업목록.md](260218-phase19-작업목록.md)

---

## 1. 현재 기능 설명

### 1.1 사용자 메뉴

- **지식 구조**: `/knowledge` (knowledge.html)
- 하위 메뉴: 지식 상세, 라벨 매칭, 관계 매칭, 지식 관리자

### 1.2 관리자 메뉴

- **키워드/라벨 관리**: `/admin/groups`, `/admin/labels`
- **청크 생성/승인/관리**: `/admin/chunk-create`, `/admin/approval`, `/admin/chunk-labels`

### 1.3 API/서비스

- `/api/knowledge`, `/api/labels`, `/api/relations`, `/api/approval/chunks`, `/api/suggestions/labels`
- 지식 통합: `/api/knowledge/integration/duplicate`

---

## 2. 사용 후기(가설 기반)

- **강점**: 라벨/관계/승인 프로세스가 분리되어 관리 가능
- **약점**: 사용자/관리자 메뉴 분산으로 흐름 분절, 권한·감사 로그 체계 미완성

---

## 3. 사용 불편점 및 리스크

| 구분 | 증상                                          | 영향                  | 우선순위 |
| ---- | --------------------------------------------- | --------------------- | -------- |
| UX   | 청크 생성→승인→라벨 관리가 메뉴 이동 3회 필요 | 컨텍스트 손실         | 높음     |
| 운영 | 승인·거절·라벨 변경 이력 통합 뷰 부재         | 감사·책임 추적 어려움 | 높음     |
| 정책 | 민감도 등급/역할 분리 적용 불명확             | 정보 유출 위험        | 높음     |
| 품질 | 라벨·관계 일관성 검사 부족                    | 지식 그래프 품질 저하 | 중간     |
| 확장 | 외부 시스템 연동 부족                         | 대규모 협업 장애      | 중간     |

---

## 4. 통합/서비스 개선 방향

### 4.1 워크플로우 통합

- **통합 탭 UI**: 생성 → 승인 → 관리 단일 화면(Phase 19-4 방향)
- **일괄 처리**: 다중 선택, 일괄 라벨, 일괄 승인/거절

### 4.2 품질/정합성 강화

- 라벨/관계 자동 검증 룰(중복, 순환, 상충 관계 탐지)
- 지식 중복 탐지 결과를 승인 단계와 연동

---

## 5. 기능 고도화 제안

### 5.1 지식 구조 고도화

- 관계 타입 확장(근거, 반례, 인용, 정책 연결)
- 지식 그래프 탐색(깊이, 시간 필터, 프로젝트 필터)

### 5.2 운영 기능

- 승인·거절·수정 이력 타임라인
- 변경 diff 및 롤백(버전 관리)
- 감사 로그 뷰 + 내보내기

---

## 6. 보안/운영/정책

- RBAC(역할 기반 접근), 청크 보안 등급 분류
- 열람/다운로드 로그 필수화
- 승인 시 전자서명·사유 기록 옵션

---

## 7. 테스트·검증 계획

### 7.1 pytest (Backend)

- 승인/거절/라벨 변경 이력 기록 검증
- 지식 중복 탐지 정확도 테스트
- 권한/등급별 조회 제한

### 7.2 Playwright (E2E)

- 생성→승인→관리 통합 탭 흐름
- 라벨/관계 매칭 승인 워크플로우
- 감사 로그 조회/필터링

---

## 8. 단계별 실행 시나리오

- **1단계**: 통합 UI 탭화, 일괄 작업 적용
- **2단계**: 이력/감사 로그 통합, RBAC 강화
- **3단계**: 관계 타입 확장, 지식 그래프 탐색 고도화

---

## 9. KPI 제안

- 승인 처리 소요 시간 40% 감소
- 라벨/관계 오류율 30% 감소
- 감사 로그 조회 성공률 95% 이상
