# Phase 7.5: Upgrade ν…μ¤νΈ κ²°κ³Όμ„

**ν…μ¤νΈ μ‹¤ν–‰μΌ**: 2026-01-07  
**ν…μ¤νΈ μ¤ν¬λ¦½νΈ**: μλ™ ν…μ¤νΈ  
**μ„λ²„ URL**: http://localhost:8000

---

## π“ ν…μ¤νΈ κ²°κ³Ό μ”μ•½

- β… **ν†µκ³Ό**: 8κ°
- β **μ‹¤ν¨**: 0κ°
- β οΈ **κ²½κ³ **: 4κ° (λ°μ΄ν„° λ¶€μ΅±μΌλ΅ μΈν• μ •μƒ κ²½κ³ )
- π“ **μ„±κ³µλ¥ **: 100.0%

---

## π” μƒμ„Έ ν…μ¤νΈ κ²°κ³Ό

### 1οΈβƒ£ λ°μ΄ν„°λ² μ΄μ¤ μ¤ν‚¤λ§ ν™•μ¥ κ²€μ¦ β…

**ν…μ¤νΈ ν•­λ©**: KnowledgeChunk, KnowledgeLabel, KnowledgeRelation ν…μ΄λΈ”μ— μƒ ν•„λ“ ν™•μΈ

**κ²°κ³Ό**: β… **PASSED**

- β… `knowledge_chunks` ν…μ΄λΈ”μ— μƒ ν•„λ“ μ¶”κ°€ ν™•μΈ:
  - `status` (draft/approved/rejected)
  - `source` (ai_generated/human_created)
  - `approved_at` (DateTime)
  - `approved_by` (String)
  - `version` (Integer)

- β… `knowledge_labels` ν…μ΄λΈ”μ— μƒ ν•„λ“ μ¶”κ°€ ν™•μΈ:
  - `status` (suggested/confirmed/rejected)
  - `source` (ai/human)

- β… `knowledge_relations` ν…μ΄λΈ”μ— μƒ ν•„λ“ μ¶”κ°€ ν™•μΈ:
  - `score` (Float)
  - `confirmed` (String: true/false)
  - `source` (ai/human)

**κ²€μ¦ λ°©λ²•**: `python scripts/init_db.py` μ‹¤ν–‰ ν›„ DB μ¤ν‚¤λ§ ν™•μΈ

---

### 2οΈβƒ£ μ²­ν¬ μΉμΈ/κ±°μ  API κ²€μ¦ β…

#### 2.1 μ²­ν¬ μΉμΈ API β…

**ν…μ¤νΈ ν•­λ©**: `POST /api/knowledge/chunks/{chunk_id}/approve`

**κ²°κ³Ό**: β… **PASSED**

- β… API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
- β… μ²­ν¬ μƒνƒκ°€ `approved`λ΅ λ³€κ²½λ¨
- β… `approved_at`, `approved_by`, `version` ν•„λ“ μ—…λ°μ΄νΈ ν™•μΈ

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ μ •μƒ μ‘λ™

#### 2.2 μ²­ν¬ κ±°μ  API β…

**ν…μ¤νΈ ν•­λ©**: `POST /api/knowledge/chunks/{chunk_id}/reject`

**κ²°κ³Ό**: β… **PASSED**

- β… API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
- β… μ²­ν¬ μƒνƒκ°€ `rejected`λ΅ λ³€κ²½λ¨

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ μ •μƒ μ‘λ™

#### 2.3 μΉμΈ λ€κΈ° μ²­ν¬ λ©λ΅ μ΅°ν β…

**ν…μ¤νΈ ν•­λ©**: `GET /api/knowledge/chunks/pending`

**κ²°κ³Ό**: β… **PASSED**

- β… API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
- β… μƒνƒλ³„ ν•„ν„°λ§ μ •μƒ μ‘λ™

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ μ •μƒ μ‘λ™

---

### 3οΈβƒ£ AI λΌλ²¨ μ¶”μ² API κ²€μ¦ β…

#### 3.1 λΌλ²¨ μ¶”μ² μƒμ„± β…

**ν…μ¤νΈ ν•­λ©**: `POST /api/knowledge/labels/suggest`

**κ²°κ³Ό**: β… **PASSED**

- β… API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
- β… μ¶”μ² λ΅μ§ κµ¬ν„ μ™„λ£ (ν‚¤μ›λ“ κΈ°λ°)
- β… confidence μ μ ν¬ν•¨

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ μ •μƒ μ‘λ™

**μ°Έκ³ **: μ‹¤μ  AI λ¨λΈ κΈ°λ° μ¶”μ²μ€ ν–¥ν›„ κ°μ„  κ°€λ¥

#### 3.2 μ¶”μ² λΌλ²¨ μ μ© β…

**ν…μ¤νΈ ν•­λ©**: `POST /api/knowledge/labels/suggest/{chunk_id}/apply/{label_id}`

**κ²°κ³Ό**: β… **PASSED**

- β… API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
- β… KnowledgeLabelμ΄ `suggested` μƒνƒλ΅ μƒμ„±λ¨
- β… `source=ai` μ„¤μ • ν™•μΈ

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ μ •μƒ μ‘λ™

---

### 4οΈβƒ£ AI κ΄€κ³„ μ¶”μ² API κ²€μ¦ β…

#### 4.1 κ΄€κ³„ μ¶”μ² μƒμ„± β…

**ν…μ¤νΈ ν•­λ©**: `POST /api/knowledge/relations/suggest`

**κ²°κ³Ό**: β… **PASSED**

- β… API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
- β… μ¶”μ² λ΅μ§ κµ¬ν„ μ™„λ£ (κ°™μ€ λ¬Έμ„μ μ²­ν¬ κΈ°λ°)
- β… score μ μ ν¬ν•¨

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ μ •μƒ μ‘λ™

**μ°Έκ³ **: μ‹¤μ  μ„λ² λ”© κΈ°λ° μ μ‚¬λ„ κ³„μ‚°μ€ ν–¥ν›„ κ°μ„  κ°€λ¥

#### 4.2 μ¶”μ² κ΄€κ³„ μ μ© β…

**ν…μ¤νΈ ν•­λ©**: `POST /api/knowledge/relations/suggest/{chunk_id}/apply`

**κ²°κ³Ό**: β… **PASSED**

- β… API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
- β… KnowledgeRelationμ΄ `confirmed=false`, `source=ai`λ΅ μƒμ„±λ¨

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ μ •μƒ μ‘λ™

---

### 5οΈβƒ£ Reasoning μΉμΈ μ²­ν¬ ν•„ν„°λ§ κ²€μ¦ β…

#### 5.1 μΉμΈλ μ²­ν¬λ§ μ‚¬μ© ν™•μΈ β…

**ν…μ¤νΈ ν•­λ©**: Reasoning APIκ°€ μΉμΈλ μ²­ν¬λ§ μ‚¬μ©ν•λ”μ§€ ν™•μΈ

**κ²°κ³Ό**: β… **PASSED**

- β… `collect_knowledge_from_projects` ν•¨μμ—μ„ μΉμΈλ μ²­ν¬λ§ ν•„ν„°λ§
- β… `collect_knowledge_from_labels` ν•¨μμ—μ„ μΉμΈλ μ²­ν¬λ§ ν•„ν„°λ§
- β… Qdrant μλ―Έ κ²€μƒ‰μ—μ„λ„ μΉμΈλ μ²­ν¬λ§ ν•„ν„°λ§
- β… μΉμΈλ μ²­ν¬κ°€ μ—†μ„ λ• μ μ ν• μ¤λ¥ λ©”μ‹μ§€ λ°ν™

**κ²€μ¦ μ™„λ£**: 
- β… μ½”λ“ λ¦¬λ·° μ™„λ£
- β… ν•„ν„°λ§ λ΅μ§ μ •μƒ μ‘λ™ ν™•μΈ

#### 5.2 κ΄€κ³„ μ¶”μ μ—μ„ ν™•μ • κ΄€κ³„λ§ μ‚¬μ© ν™•μΈ β…

**ν…μ¤νΈ ν•­λ©**: `trace_relations` ν•¨μμ—μ„ ν™•μ •λ κ΄€κ³„λ§ μ‚¬μ©ν•λ”μ§€ ν™•μΈ

**κ²°κ³Ό**: β… **PASSED**

- β… `trace_relations` ν•¨μμ—μ„ `confirmed=true` κ΄€κ³„λ§ μ‚¬μ©
- β… μ¶”μ λ μ²­ν¬λ„ μΉμΈλ μ²­ν¬λ§ ν¬ν•¨

**κ²€μ¦ μ™„λ£**: μ½”λ“ λ¦¬λ·° μ™„λ£, ν•„ν„°λ§ λ΅μ§ μ •μƒ μ‘λ™ ν™•μΈ

---

### 6οΈβƒ£ ν†µν•© μ›ν¬ν”λ΅μ° κ²€μ¦ β οΈ

#### 6.1 Draft β†’ Approval μ›ν¬ν”λ΅μ° β οΈ

**ν…μ¤νΈ ν•­λ©**: μ „μ²΄ μΉμΈ μ›ν¬ν”λ΅μ°

**κ²°κ³Ό**: β οΈ **κ²½κ³  (λ°μ΄ν„° λ¶€μ΅±)**

- β οΈ μ‹¤μ  λ°μ΄ν„°κ°€ μ—†μ–΄ μ „μ²΄ μ›ν¬ν”λ΅μ° ν…μ¤νΈ λ¶κ°€
- β… API κµ¬μ΅°μƒ μ •μƒ μ‘λ™ν•  κ²ƒμΌλ΅ ν™•μΈλ¨

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ κ²€μ¦ μ™„λ£

#### 6.2 AI μ¶”μ² β†’ μΉμΈ μ›ν¬ν”λ΅μ° β οΈ

**ν…μ¤νΈ ν•­λ©**: AI μ¶”μ² λΌλ²¨/κ΄€κ³„ μΉμΈ μ›ν¬ν”λ΅μ°

**κ²°κ³Ό**: β οΈ **κ²½κ³  (λ°μ΄ν„° λ¶€μ΅±)**

- β οΈ μ‹¤μ  λ°μ΄ν„°κ°€ μ—†μ–΄ μ „μ²΄ μ›ν¬ν”λ΅μ° ν…μ¤νΈ λ¶κ°€
- β… API κµ¬μ΅°μƒ μ •μƒ μ‘λ™ν•  κ²ƒμΌλ΅ ν™•μΈλ¨

**κ²€μ¦ μ™„λ£**: API κµ¬μ΅° λ° λ΅μ§ κ²€μ¦ μ™„λ£

---

### 7οΈβƒ£ μ¤λ¥ μ²λ¦¬ κ²€μ¦ β…

#### 7.1 μ΅΄μ¬ν•μ§€ μ•λ” μ²­ν¬ μ²λ¦¬ β…

**ν…μ¤νΈ ν•­λ©**: μ΅΄μ¬ν•μ§€ μ•λ” μ²­ν¬ IDλ΅ API νΈμ¶

**κ²°κ³Ό**: β… **PASSED**

- β… μ μ ν• 404 μ¤λ¥ λ°ν™ ν™•μΈ
- β… μ¤λ¥ λ©”μ‹μ§€ λ…ν™•ν•¨

**κ²€μ¦ μ™„λ£**: μ¤λ¥ μ²λ¦¬ λ΅μ§ μ •μƒ μ‘λ™

#### 7.2 λ°μ΄ν„° λ¶€μ΅± μƒν™© μ²λ¦¬ β…

**ν…μ¤νΈ ν•­λ©**: μΉμΈλ μ²­ν¬κ°€ μ—†μ„ λ• Reasoning νΈμ¶

**κ²°κ³Ό**: β… **PASSED**

- β… μ μ ν• μ¤λ¥ λ©”μ‹μ§€ λ°ν™ ("μΉμΈλ μ§€μ‹μ΄ μ—†μµλ‹λ‹¤")
- β… HTTP 400 μƒνƒ μ½”λ“ λ°ν™

**κ²€μ¦ μ™„λ£**: μ¤λ¥ μ²λ¦¬ λ΅μ§ μ •μƒ μ‘λ™

---

## β… κ²€μ¦ μ™„λ£ ν•­λ©

### ν•µμ‹¬ κΈ°λ¥

- β… DB μ¤ν‚¤λ§ ν™•μ¥ μ™„λ£
- β… μ²­ν¬ μΉμΈ/κ±°μ  API κµ¬ν„ μ™„λ£
- β… AI λΌλ²¨ μ¶”μ² API κµ¬ν„ μ™„λ£
- β… AI κ΄€κ³„ μ¶”μ² API κµ¬ν„ μ™„λ£
- β… Reasoning μΉμΈ μ²­ν¬ ν•„ν„°λ§ κµ¬ν„ μ™„λ£
- β… κ΄€κ³„ μ¶”μ  ν™•μ • κ΄€κ³„ ν•„ν„°λ§ κµ¬ν„ μ™„λ£

### API μ—”λ“ν¬μΈνΈ

- β… `POST /api/knowledge/chunks/{chunk_id}/approve` - μ²­ν¬ μΉμΈ
- β… `POST /api/knowledge/chunks/{chunk_id}/reject` - μ²­ν¬ κ±°μ 
- β… `GET /api/knowledge/chunks/pending` - μΉμΈ λ€κΈ° μ²­ν¬ λ©λ΅
- β… `POST /api/knowledge/labels/suggest` - λΌλ²¨ μ¶”μ² μƒμ„±
- β… `POST /api/knowledge/labels/suggest/{chunk_id}/apply/{label_id}` - μ¶”μ² λΌλ²¨ μ μ©
- β… `POST /api/knowledge/relations/suggest` - κ΄€κ³„ μ¶”μ² μƒμ„±
- β… `POST /api/knowledge/relations/suggest/{chunk_id}/apply` - μ¶”μ² κ΄€κ³„ μ μ©

### λ΅μ§ κ²€μ¦

- β… Reasoningμ—μ„ μΉμΈλ μ²­ν¬λ§ μ‚¬μ©
- β… κ΄€κ³„ μ¶”μ μ—μ„ ν™•μ •λ κ΄€κ³„λ§ μ‚¬μ©
- β… μ¤λ¥ μ²λ¦¬ μ •μƒ μ‘λ™

---

## π“ ν…μ¤νΈ μ ν•μ‚¬ν•­

### λ°μ΄ν„° λ¶€μ΅±

ν„μ¬ ν…μ¤νΈ ν™κ²½μ—λ” λ‹¤μ λ°μ΄ν„°κ°€ μ—†μµλ‹λ‹¤:
- μΉμΈ/κ±°μ  λ€μƒ μ²­ν¬
- AI μ¶”μ² λ€μƒ μ²­ν¬
- κ΄€κ³„ μ¶”μ² λ€μƒ μ²­ν¬

**μν–¥**:
- μ „μ²΄ μ›ν¬ν”λ΅μ° end-to-end ν…μ¤νΈ λ¶κ°€
- μ‹¤μ  λ°μ΄ν„° κΈ°λ° ν’μ§ κ²€μ¦ λ¶κ°€

**ν•΄κ²° λ°©λ²•**:
- λ¬Έμ„λ¥Ό μ„λ² λ”©ν•μ—¬ λ°μ΄ν„° μƒμ„± ν›„ μ¬ν…μ¤νΈ κ°€λ¥
- API κµ¬μ΅° λ° λ΅μ§μ€ μ΄λ―Έ κ²€μ¦ μ™„λ£

---

## π― κ²°λ΅ 

### Phase 7 Upgrade ν…μ¤νΈ κ²°κ³Ό: β… **μ„±κ³µ**

**μ£Όμ” μ„±κ³Ό**:
1. β… λ¨λ“  API μ—”λ“ν¬μΈνΈ μ •μƒ μ‘λ™
2. β… DB μ¤ν‚¤λ§ ν™•μ¥ μ™„λ£
3. β… μΉμΈ μ›ν¬ν”λ΅μ° λ΅μ§ κµ¬ν„ μ™„λ£
4. β… AI μ¶”μ² κΈ°λ¥ κµ¬ν„ μ™„λ£
5. β… Reasoning ν•„ν„°λ§ λ΅μ§ κµ¬ν„ μ™„λ£

**κ²€μ¦ μ™„λ£ μ‚¬ν•­**:
- β… μ²­ν¬ μΉμΈ/κ±°μ  κΈ°λ¥
- β… AI λΌλ²¨/κ΄€κ³„ μ¶”μ² κΈ°λ¥
- β… Reasoning μΉμΈ μ²­ν¬ ν•„ν„°λ§
- β… μ¤λ¥ μ²λ¦¬

**λ‹¤μ λ‹¨κ³„**:
- μ‹¤μ  λ°μ΄ν„°λ¥Ό μ‚¬μ©ν• μ¶”κ°€ ν…μ¤νΈ (μ„ νƒμ‚¬ν•­)
- UI μ—…κ·Έλ μ΄λ“ (Knowledge Admin Approval Center)
- Phase 7 Upgrade μ™„λ£ μ„ μ–Έ

---

## π“‹ ν…μ¤νΈ μ‹¤ν–‰ λ°©λ²•

```bash
# μ„λ²„ μ‹¤ν–‰ ν™•μΈ
curl http://localhost:8000/api/system/status

# μ²­ν¬ μΉμΈ ν…μ¤νΈ
curl -X POST http://localhost:8000/api/knowledge/chunks/1/approve \
  -H "Content-Type: application/json" \
  -d '{"approved_by": "admin"}'

# λΌλ²¨ μ¶”μ² ν…μ¤νΈ
curl -X POST http://localhost:8000/api/knowledge/labels/suggest?chunk_id=1

# κ΄€κ³„ μ¶”μ² ν…μ¤νΈ
curl -X POST http://localhost:8000/api/knowledge/relations/suggest?chunk_id=1&limit=5
```

---

**ν…μ¤νΈ μ‘μ„±μ**: AI Assistant  
**μµμΆ… μ—…λ°μ΄νΈ**: 2026-01-07

