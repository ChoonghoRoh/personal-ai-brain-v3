# Phase 7.9.8: 1λ‹¨κ³„ Step 1-2: ν”„λ΅ νΈμ—”λ“ knowledge.js νμ΄μ§• UI κµ¬ν„ μƒμ„Έ λ¬Έμ„

**μ‘μ„±μΌ**: 2026-01-10  
**μƒνƒ**: β… μ™„λ£

---

## π“‹ μ‘μ—… κ°μ”

knowledge.jsμ— νμ΄μ§• UIλ¥Ό κµ¬ν„ν•μ—¬ μ²­ν¬ λ©λ΅μ„ νμ΄μ§€λ³„λ΅ ν‘μ‹ν•κ³ , μ‚¬μ©μκ°€ νμ΄μ§€λ¥Ό μ΄λ™ν•  μ μλ„λ΅ κ°μ„ 

---

## π”§ μμ •λ νμΌ

### 1. `web/src/pages/knowledge.html`

**λ³€κ²½ μ‚¬ν•­**:

νμ΄μ§• μ»¨νΈλ΅¤ μ»¨ν…μ΄λ„ μ¶”κ°€:

```html
<div id="pagination-controls" style="display: none; ...">
  <div style="display: flex; justify-content: space-between; ...">
    <!-- νμ΄μ§€λ‹Ή ν•­λ© μ μ„ νƒ -->
    <div>
      <label for="items-per-page">νμ΄μ§€λ‹Ή ν•­λ©:</label>
      <select id="items-per-page">
        <option value="10">10</option>
        <option value="20" selected>20</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
    </div>
    <!-- νμ΄μ§€ μ •λ³΄ -->
    <div id="pagination-info"></div>
    <!-- νμ΄μ§€ λ²„νΌ -->
    <div id="pagination-buttons"></div>
  </div>
</div>
```

---

### 2. `web/public/js/knowledge.js`

**μ£Όμ” λ³€κ²½ μ‚¬ν•­**:

#### 1. νμ΄μ§• μƒνƒ λ³€μ μ¶”κ°€

```javascript
let currentPage = 1;
let limit = 20;
let totalCount = 0;
let totalPages = 0;
```

#### 2. URL νλΌλ―Έν„° μ½κΈ°

```javascript
const pageParam = urlParams.get("page");
if (pageParam) {
  currentPage = parseInt(pageParam) || 1;
}
const limitParam = urlParams.get("limit");
if (limitParam) {
  limit = parseInt(limitParam) || 20;
}
```

#### 3. `loadChunks()` ν•¨μ μμ •

- offset κ³„μ‚°: `const offset = (currentPage - 1) * limit;`
- API νλΌλ―Έν„°μ— limit, offset μ¶”κ°€
- μƒλ΅μ΄ API μ‘λ‹µ ν•μ‹ μ²λ¦¬ (ν•μ„ νΈν™μ„± μ μ§€):
  ```javascript
  const chunks = data.items || data;
  totalCount = data.total_count || chunks.length;
  totalPages = data.total_pages || Math.ceil(totalCount / limit);
  ```
- `updatePaginationUI()` νΈμ¶

#### 4. `updatePaginationUI()` ν•¨μ μ¶”κ°€

- μ΄ κ°μκ°€ limitλ³΄λ‹¤ μ‘μΌλ©΄ νμ΄μ§• UI μ¨κΈ°κΈ°
- νμ΄μ§€ μ •λ³΄ ν‘μ‹: "μ „μ²΄ Nκ° μ¤‘ X-Yκ° ν‘μ‹"
- νμ΄μ§€ λ²„νΌ μƒμ„±:
  - μ΄μ „ λ²„νΌ
  - νμ΄μ§€ λ²νΈ λ²„νΌ (μµλ€ 7κ°, μƒλµ ν‘μ‹)
  - λ‹¤μ λ²„νΌ
- νμ΄μ§€λ‹Ή ν•­λ© μ λ³€κ²½ μ΄λ²¤νΈ μ²λ¦¬

#### 5. `createPageButton()` ν•¨μ μ¶”κ°€

- νμ΄μ§€ λ²νΈ λ²„νΌ μƒμ„±
- ν„μ¬ νμ΄μ§€ κ°•μ΅° ν‘μ‹
- ν΄λ¦­ μ‹ ν•΄λ‹Ή νμ΄μ§€λ΅ μ΄λ™

#### 6. `updateURL()` ν•¨μ μ¶”κ°€

- URL νλΌλ―Έν„°μ— page, limit μ¶”κ°€
- λΈλΌμ°μ € νμ¤ν† λ¦¬ μ—…λ°μ΄νΈ

#### 7. λΌλ²¨ μ„ νƒ μ‹ νμ΄μ§€ λ¦¬μ…‹

```javascript
function selectLabel(labelId) {
  // ...
  currentPage = 1;
  loadChunks();
}
```

---

## π¨ UI κµ¬μ„±

### νμ΄μ§• μ»¨νΈλ΅¤ λ μ΄μ•„μ›ƒ

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ [νμ΄μ§€λ‹Ή ν•­λ©: [20 β–Ό]]  μ „μ²΄ 150κ° μ¤‘ 1-20κ° ν‘μ‹  [β—€ μ΄μ „] [1] [2] [3] ... [15] [λ‹¤μ β–¶] β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### κΈ°λ¥

1. **νμ΄μ§€λ‹Ή ν•­λ© μ μ„ νƒ**: 10, 20, 50, 100 μ¤‘ μ„ νƒ
2. **νμ΄μ§€ μ •λ³΄**: μ „μ²΄ κ°μμ™€ ν„μ¬ ν‘μ‹ λ²”μ„
3. **νμ΄μ§€ λ²„νΌ**: 
   - μ΄μ „/λ‹¤μ λ²„νΌ
   - νμ΄μ§€ λ²νΈ λ²„νΌ (μµλ€ 7κ° ν‘μ‹)
   - μƒλµ ν‘μ‹ ("...")
   - ν„μ¬ νμ΄μ§€ κ°•μ΅°

---

## β… κ²€μ¦ μ™„λ£

- β… λ¦°ν„° μ¤λ¥ μ—†μ
- β… ν•μ„ νΈν™μ„± μ μ§€ (κΈ°μ΅΄ API μ‘λ‹µ ν•μ‹λ„ μ²λ¦¬)
- β… URL μƒνƒ μ μ§€

---

## π§ ν…μ¤νΈ κ³„ν

### κΈ°λ¥ ν…μ¤νΈ

1. **μ΄κΈ° λ΅λ“**
   - νμ΄μ§€ λ΅λ“ μ‹ νμ΄μ§• UI ν‘μ‹ ν™•μΈ
   - κΈ°λ³Έ limit(20) μ μ© ν™•μΈ
   - μ²« νμ΄μ§€ λ°μ΄ν„° λ΅λ“ ν™•μΈ

2. **νμ΄μ§€ μ΄λ™**
   - νμ΄μ§€ λ²νΈ ν΄λ¦­ μ‹ ν•΄λ‹Ή νμ΄μ§€ λ΅λ“
   - μ΄μ „/λ‹¤μ λ²„νΌ λ™μ‘ ν™•μΈ
   - μ²« νμ΄μ§€μ—μ„ μ΄μ „ λ²„νΌ λΉ„ν™μ„±ν™” ν™•μΈ
   - λ§μ§€λ§‰ νμ΄μ§€μ—μ„ λ‹¤μ λ²„νΌ λΉ„ν™μ„±ν™” ν™•μΈ

3. **νμ΄μ§€λ‹Ή ν•­λ© μ λ³€κ²½**
   - λ“λ΅­λ‹¤μ΄μ—μ„ ν•­λ© μ λ³€κ²½ μ‹ μ²« νμ΄μ§€λ΅ λ¦¬μ…‹
   - μƒλ΅μ΄ limitμΌλ΅ λ°μ΄ν„° λ΅λ“ ν™•μΈ
   - νμ΄μ§• μ •λ³΄ μ—…λ°μ΄νΈ ν™•μΈ

4. **URL μƒνƒ μ μ§€**
   - νμ΄μ§€ μ΄λ™ μ‹ URL νλΌλ―Έν„° μ—…λ°μ΄νΈ ν™•μΈ
   - νμ΄μ§€ μƒλ΅κ³ μΉ¨ μ‹ μƒνƒ μ μ§€ ν™•μΈ
   - URL μ§μ ‘ μ…λ ¥ μ‹ ν•΄λ‹Ή νμ΄μ§€ λ΅λ“ ν™•μΈ

5. **λΌλ²¨ ν•„ν„°λ§**
   - λΌλ²¨ μ„ νƒ μ‹ νμ΄μ§€ 1λ΅ λ¦¬μ…‹ ν™•μΈ
   - ν•„ν„° μ μ© ν›„ νμ΄μ§• μ •λ³΄ μ •ν™•μ„± ν™•μΈ

6. **μ—£μ§€ μΌ€μ΄μ¤**
   - μ΄ κ°μκ°€ limitλ³΄λ‹¤ μ‘μ„ λ• νμ΄μ§• UI μ¨κΉ€ ν™•μΈ
   - λΉ κ²°κ³ΌμΌ λ• νμ΄μ§• UI μ¨κΉ€ ν™•μΈ
   - νμ΄μ§€ λ²νΈκ°€ λ§μ„ λ• μƒλµ ν‘μ‹ ν™•μΈ

---

## π“ λ‹¤μ λ‹¨κ³„

Step 1-3: ν”„λ΅ νΈμ—”λ“ - admin-approval.js νμ΄μ§• UI κµ¬ν„
