# Task 19-1-3: FIX-3+4 — 유틸 함수 개선

- **우선순위**: P1
- **의존성**: 19-1-2 (공백 분리 완료 후)
- **담당 팀원**: backend-dev
- **상태**: PENDING

## §1 목적

`korean_utils.py`의 정제 함수 2건을 개선하여 기술명 손상(C++→C)과 garbled 오탐(서버less 삭제)을 방지한다.

## §2 변경 범위

| 파일 | 변경 유형 |
|------|----------|
| `backend/utils/korean_utils.py` L15-34 | 수정 — `_clean_disallowed_chars()` 허용 문자 확장 |
| `backend/utils/korean_utils.py` L37-58 | 수정 — `_is_garbled_keyword()` 오탐 완화 |

## §3 구현 상세

### FIX-3: 허용 문자 확장

**현재**: `[^가-힣a-zA-Z0-9\s\-\./_]` → `+`, `#`, `&`, `@` 제거
**수정**: `[^가-힣a-zA-Z0-9\s\-\./_+#&@]` → 기술명 특수문자 허용

**테스트 케이스**:
- "C++" → "C++" (유지), "C#" → "C#" (유지), "R&D" → "R&D" (유지)
- "user@email" → "user@email" (유지)

### FIX-4: garbled 오탐 완화

**현재**: 한글 뒤 소문자 영어 → 무조건 garbled → 삭제
**수정**: 한글→영어 방향: 영어 부분 3자 이상이면 허용. 영어→한글 방향: 기존대로 차단

```python
# 기존: re.search(r"[가-힣][a-z]", text) → garbled
# 수정: 한글 뒤 영문 매칭 시, 영문 부분 길이로 판별
match = re.search(r'[가-힣]([a-z]+)', token)
if match and len(match.group(1)) < 3:
    return True  # garbled (영문 2자 미만)
# 3자 이상이면 허용 (서버less → 통과)
```

## §4 완료 기준

- [ ] 허용 문자 `+#&@` 정규식 추가
- [ ] "C++", "C#", "R&D" 특수문자 유지 확인
- [ ] garbled 판정: 한글→영문 3자+ 허용
- [ ] "서버less" → 유지, "딥러닝model" → 유지
- [ ] "한a" → garbled 차단 (영문 1자)
- [ ] 기존 테스트 통과
