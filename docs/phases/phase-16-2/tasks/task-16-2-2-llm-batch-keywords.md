# Task 16-2-2: [BE] LLM 키워드 추출 묶음 호출

**우선순위**: 16-2 내 3순위 (실행 순서)
**예상 작업량**: 높음
**의존성**: Phase 16-1 완료
**담당 팀원**: backend-dev
**상태**: 대기

---

## §1. 개요

키워드 추출 단계에서 청크당 1회 LLM 호출 대신, 5~10개 청크를 하나의 프롬프트로 묶어 1회 호출하여 LLM API 호출 횟수를 5~10배 줄인다.

참조: [리스크 분석 §3.2 방안 F-1](../../../planning/260217-1600-AI자동화기능-리스크분석.md)

## §2. 파일 변경 계획

| 구분 | 파일 | 변경 내용 |
|------|------|----------|
| 수정 | `backend/services/automation/ai_workflow_service.py` | `_extract_keywords()` 묶음 호출 |

## §3. 작업 체크리스트 (Done Definition)

- [ ] 청크를 5~10개씩 그룹으로 분할
- [ ] 그룹별로 "[청크1]\n...\n---\n[청크2]\n..." 형태의 통합 프롬프트 구성
- [ ] 1회 LLM 호출 후 응답 파싱 → 청크별 키워드 할당
- [ ] 배치 크기는 환경변수/설정으로 조정 가능
- [ ] 960청크 시 LLM 호출 약 96~192회
- [ ] 기존 단건 추출과 동일한 키워드 스키마 유지

## §4. 참조

- [Phase 16 Master Plan §5.2 — 16-2-2](../../phase-16-master-plan.md)
