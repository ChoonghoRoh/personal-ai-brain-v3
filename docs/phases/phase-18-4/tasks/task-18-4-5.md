# Task 18-4-5: 관계 타입 자동 분류 + 추천 UI

- **우선순위**: P2
- **의존성**: 18-4-4
- **담당 팀원**: backend-dev (BE) + frontend-dev (FE)
- **상태**: PENDING

## §1 목적
관계 추천 시 타입(similar/prerequisite/extends)을 자동 분류하고, UI에서 추천 결과를 표시.

## §2 변경 범위
- `backend/routers/knowledge/relations.py` — 타입 분류 로직
- `web/public/js/search/search.js` 또는 별도 — 추천 UI

## §3 구현 상세 (BE)
1. 유사도 점수 + 컨텐츠 분석으로 관계 타입 추론:
   - similar (>= 0.85): 유사한 내용
   - prerequisite: 한 쪽이 다른 쪽의 선행 지식
   - extends: 한 쪽이 다른 쪽을 확장/심화
2. 간단한 휴리스틱 (LLM 불필요):
   - chunk_index 순서 + 같은 document → prerequisite 후보
   - 다른 document + 높은 유사도 → similar
   - 부모-자식 라벨 관계 → extends 후보

## §4 구현 상세 (FE)
1. 관계 추천 패널 (청크 상세 페이지 또는 검색 결과)
2. 추천 카드: 타입 아이콘 + 유사도 바 + "관계 추가" 버튼
3. 관계 추가 시 POST /api/relations 호출

## §5 완료 기준
- [ ] 관계 타입 자동 분류
- [ ] 추천 UI 표시
- [ ] 관계 추가 기능
