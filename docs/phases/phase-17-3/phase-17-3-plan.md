# Phase 17-3 Plan — 검색 메뉴 + 추천 문서 개선

**Phase**: 17-3
**목표**: 추천 문서 영역 그리드 카드화 + 조회 기능 (검색·폴더 필터·정렬) + 파일명 ILIKE 검색 보완
**선행**: 독립 (17-1/17-2와 병행 가능)
**기준 문서**: [Phase 17 개발 요구사항 §6](../../planning/260218-0830-phase17-개발-요구사항.md)

---

## 1. 배경

검색 페이지의 추천 문서 영역이 단순 텍스트 리스트로 표시되어 문서 탐색이 어렵다. 또한 키워드 검색 시 파일명(file_path)을 검색 대상에 포함하지 않아, 파일명으로 검색할 수 없는 문제가 있다.

## 2. 범위

| Task | 도메인 | 내용 | 담당 |
|------|--------|------|------|
| 17-3-1 | [BE] | hybrid_search.py 파일명 ILIKE 검색 추가 | backend-dev |
| 17-3-2 | [FE] | 추천 문서 그리드 카드 UI (폴더·크기·수정일 표시) | frontend-dev |
| 17-3-3 | [FE] | 추천 문서 조회 영역 (검색·폴더 필터·정렬) | frontend-dev |
| 17-3-4 | [FE] | search.css 그리드 스타일 + 반응형 | frontend-dev |

**보너스 구현**: 검색 모드 토글 (Semantic / Keyword / Hybrid)

## 3. 완료 기준

- [x] hybrid_search.py: keyword_search에서 Document.file_path ILIKE 검색 포함
- [x] 추천 문서가 그리드 카드 형태로 표시 (제목, 폴더 경로, 크기, 수정일)
- [x] 문서 이름/경로 검색 필터 동작
- [x] 폴더 필터 드롭다운 동작
- [x] 정렬 (최신순/이름순/크기순) 동작
- [x] 표시 건수 제한 (5/10/20건) 동작
- [x] 반응형 CSS (768px 이하 1단 전환)
- [x] 검색 모드 토글 동작 (보너스)

## 4. 의존성

- 17-3-1 (BE)은 독립 구현 가능
- 17-3-2, 17-3-3, 17-3-4 (FE)는 병렬 구현 가능
- BE/FE 간 의존 없음 (추천 문서는 /api/documents 기존 API 활용)

## 5. 리스크

| 리스크 | 대응 |
|--------|------|
| Document JOIN 추가로 keyword_search 쿼리 성능 저하 | JOIN은 document_id FK로 인덱스 활용, 영향 미미 |
| allDocuments 전체 fetch 시 대량 데이터 우려 | 현재 문서 수 제한적, 향후 서버사이드 페이지네이션 도입 가능 |
