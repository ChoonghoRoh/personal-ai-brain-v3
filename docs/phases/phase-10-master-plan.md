# Phase 10 Master Plan - Reasoning 페이지 고도화

**작성일**: 2026-02-03  
**최종 수정**: 2026-02-04  
**상태**: 확정 (Phase 9 Final Summary 반영)  
**선행 조건**: Phase 9 완료  
**기준 문서**: `docs/planning/reasoning-page-enhancement-plan.md`  
**비교 기준**: [phase-9-final-summary-report.md](phase-9-final-summary-report.md)  
**명명 규칙**: [ai-rule-phase-naming.md](../ai/ai-rule-phase-naming.md) — Phase ID는 **X-Y-Z**(숫자), Task는 **phaseX-Y-N**

---

## 관련 문서

| 문서                                                               | 용도                                    |
| ------------------------------------------------------------------ | --------------------------------------- |
| [Phase 명명 규칙](../ai/ai-rule-phase-naming.md)                   | Phase ID(X-Y-Z)·Task(N) 생성 기준       |
| [Phase 9 Final Summary Report](phase-9-final-summary-report.md)    | 선행 Phase 완료 내역·Phase 10 착수 근거 |
| [Phase 9 Master Plan](phase-9-master-plan.md)                      | Phase 9 전체 계획·완료 기준             |
| [Reasoning 기획서](../planning/reasoning-page-enhancement-plan.md) | 상세 기획                               |
| [요구사항 마스터](../planning/requirements/requirements-master.md) | 전체 요구사항                           |
| [추적 매트릭스](../planning/requirements/traceability-matrix.md)   | 요구사항 추적                           |

---

## 1. Phase 9 대비 및 Phase 10 위치

### 1.1 Phase 9 Final Summary 대비

Phase 9 최종 요약 기준 **Phase 9-1 ~ 9-5 Task 개발이 반영·검증 완료**되었으며, Phase 10은 그 위에 Reasoning **페이지(UX/UI·시각화·결과물)** 고도화를 담당한다.

| Phase 9 산출물 (완료)                       | Phase 10에서 활용·전제                       |
| ------------------------------------------- | -------------------------------------------- |
| 9-3 Reasoning 추천 API, RAG, 지식구조 매칭  | 10-1/10-2/10-3이 호출하는 백엔드·데이터 구조 |
| 9-1 보안, 9-2 테스트·CI, 9-4 기능, 9-5 품질 | 회귀 유지·품질 기준 유지                     |
| Phase 9 회귀 테스트·통합 검증               | Phase 10 진행 시 기존 테스트 유지 권장       |

### 1.2 Phase 10에서 다루는 영역

Phase 9에서 **API·백엔드·기능**이 완료된 반면, Phase 10은 **Reasoning 페이지의 사용자 경험과 결과 표현**에 집중한다.

| 영역            | Phase 9 결과     | Phase 10 목표                                      |
| --------------- | ---------------- | -------------------------------------------------- |
| LLM 사용 UX     | 단순 로딩 스피너 | 단계별 진행 표시, 취소, 예상 시간                  |
| 분석 결과 형식  | 텍스트 나열      | 모드별 시각화(다이어그램·매트릭스·로드맵·타임라인) |
| 결과 활용       | 화면 표시만      | PDF 내보내기, 공유, 다크모드, 접근성               |
| 이해관계자 요구 | 미정의           | 요구사항·추적 체계 명확화                          |

---

## 2. 목표 및 범위

### 2.1 In Scope (포함)

| 분류       | 항목                                                                                       |
| ---------- | ------------------------------------------------------------------------------------------ |
| **UX/UI**  | 진행 상태 실시간 표시, 취소 기능, 예상 시간 표시                                           |
| **시각화** | design_explain 다이어그램, risk_review 매트릭스, next_steps 로드맵, history_trace 타임라인 |
| **결과물** | PDF 내보내기, URL 공유, 다크 모드, 접근성                                                  |
| **고급**   | LLM 스트리밍 응답, 의사결정 문서 저장                                                      |

### 2.2 Out of Scope (제외)

| 항목                                  | 사유                   |
| ------------------------------------- | ---------------------- |
| 외부 서비스 연동 (Notion, Confluence) | 로컬 우선 방침         |
| 실시간 협업 (동시 편집)               | 복잡도 높음, 향후 고려 |
| 모바일 전용 앱                        | 웹 반응형으로 대응     |

---

## 3. 우선순위에 따른 단계별 계획

Phase 9 완료 상태를 전제로, **사용자 체감 개선 → 핵심 가치 → 활용도 → 선택 확장** 순으로 우선순위를 둔다.

### 3.1 우선순위 요약

명명 규칙: Phase ID **10-Y** (Y=목표·전략 단위), Task **10-Y-N** (N=todo 순번). [ai-rule-phase-naming.md](../ai/ai-rule-phase-naming.md) 준수.

| 순위  | Phase ID | Phase 명           | 사유                                    | 예상  |
| ----- | -------- | ------------------ | --------------------------------------- | ----- |
| **1** | 10-1     | UX/UI 개선         | 로딩·취소·예상 시간 등 즉각적 체감 개선 | 3일   |
| **2** | 10-2     | 모드별 분석 고도화 | Reasoning 핵심 가치(시각화)             | 8일   |
| **3** | 10-3     | 결과물 형식 개선   | PDF·다크모드·접근성으로 활용도 향상     | 5.5일 |
| **4** | 10-4     | 고급 기능 (선택)   | 스트리밍·공유·저장 등 선택 확장         | 7일   |

### 3.2 Phase 10 구조 (우선순위 순)

```
Phase 10 (X=10, Y=목표 단위별 폴더 phase-10-Y)

1순위  Phase 10-1   UX/UI 개선
       ├── Task 10-1-1   진행 상태 실시간 표시  (P1: 로딩/단계 명확화)
       ├── Task 10-1-2   분석 작업 취소 기능
       └── Task 10-1-3   예상 소요 시간 표시

2순위  Phase 10-2   모드별 분석 고도화
       ├── Task 10-2-1   design_explain 시각화 (Mermaid)
       ├── Task 10-2-2   risk_review 매트릭스
       ├── Task 10-2-3   next_steps 로드맵
       └── Task 10-2-4   history_trace 타임라인

3순위  Phase 10-3   결과물 형식 개선
       ├── Task 10-3-1   공통 결과 구조 적용
       ├── Task 10-3-2   시각화 라이브러리 통합
       ├── Task 10-3-3   PDF 내보내기
       ├── Task 10-3-4   다크 모드
       └── Task 10-3-5   접근성 (WCAG 2.1 AA)

4순위  Phase 10-4   고급 기능 (선택)
       ├── Task 10-4-1   LLM 스트리밍 응답
       ├── Task 10-4-2   결과 공유 (URL)
       └── Task 10-4-3   의사결정 문서 저장
```

---

## 4. 상세 Task 목록 (우선순위 순)

### Phase 10-1 UX/UI 개선 (1순위)

#### Task 10-1-1: 진행 상태 실시간 표시

| 항목            | 내용                                          |
| --------------- | --------------------------------------------- |
| **목표**        | 분석 진행 중 5단계 상태를 실시간으로 표시     |
| **산출물**      | 프론트엔드 컴포넌트, 백엔드 상태 API(필요 시) |
| **예상 작업량** | 1.5일                                         |

**단계 정의**:

1. 질문 분석 중...
2. 관련 문서 검색 중...
3. 연관 지식 확장 중...
4. AI 추론 중... (N초)
5. 추천 정보 생성 중...

#### Task 10-1-2: 분석 작업 취소 기능

| 항목            | 내용                                                             |
| --------------- | ---------------------------------------------------------------- |
| **목표**        | 진행 중인 분석을 사용자가 취소할 수 있도록                       |
| **산출물**      | `POST /api/reason/{task_id}/cancel`(또는 동등), 프론트 취소 버튼 |
| **예상 작업량** | 1일                                                              |

#### Task 10-1-3: 예상 소요 시간 표시

| 항목            | 내용                             |
| --------------- | -------------------------------- |
| **목표**        | 분석 시작 시 예상 소요 시간 안내 |
| **산출물**      | 시간 추정 로직, UI 표시          |
| **예상 작업량** | 0.5일                            |

---

### Phase 10-2 모드별 분석 고도화 (2순위)

#### Task 10-2-1: design_explain 시각화

| 항목            | 내용                                           |
| --------------- | ---------------------------------------------- |
| **목표**        | 설계 분석 결과를 Mermaid 다이어그램으로 시각화 |
| **시각화**      | 아키텍처 다이어그램, 의존성 그래프             |
| **라이브러리**  | Mermaid.js                                     |
| **예상 작업량** | 2일                                            |

#### Task 10-2-2: risk_review 매트릭스

| 항목            | 내용                                   |
| --------------- | -------------------------------------- |
| **목표**        | 리스크를 심각도/가능성 매트릭스로 표시 |
| **시각화**      | 5x5 리스크 매트릭스, 영향 그래프       |
| **라이브러리**  | Chart.js                               |
| **예상 작업량** | 2일                                    |

#### Task 10-2-3: next_steps 로드맵

| 항목            | 내용                                |
| --------------- | ----------------------------------- |
| **목표**        | 다음 단계를 Phase별 로드맵으로 표시 |
| **시각화**      | 간트 차트, 칸반 보드                |
| **라이브러리**  | Gantt.js 또는 Custom                |
| **예상 작업량** | 2일                                 |

#### Task 10-2-4: history_trace 타임라인

| 항목            | 내용                                  |
| --------------- | ------------------------------------- |
| **목표**        | 의사결정 히스토리를 타임라인으로 표시 |
| **시각화**      | 수직 타임라인, Before/After 비교      |
| **라이브러리**  | Timeline.js                           |
| **예상 작업량** | 2일                                   |

---

### Phase 10-3 결과물 형식 개선 (3순위)

| Task   | 목표                                       | 예상 작업량 |
| ------ | ------------------------------------------ | ----------- |
| 10-3-1 | 공통 결과 구조 (요약/상세/시각화/인사이트) | 1일         |
| 10-3-2 | 시각화 라이브러리 통합                     | 1일         |
| 10-3-3 | PDF 내보내기                               | 1.5일       |
| 10-3-4 | 다크 모드                                  | 1일         |
| 10-3-5 | 접근성 (WCAG 2.1 AA)                       | 1일         |

---

### Phase 10-4 고급 기능 (4순위, 선택)

| Task   | 목표                   | 예상 작업량 |
| ------ | ---------------------- | ----------- |
| 10-4-1 | LLM 스트리밍 응답 표시 | 3일         |
| 10-4-2 | 결과 공유 (URL 생성)   | 2일         |
| 10-4-3 | 의사결정 문서 저장     | 2일         |

---

## 5. 의존성 및 진행 순서

### 5.1 의존성 그래프

```
10-1-1 (진행 상태) ─┬─→ 10-1-2 (취소)
                   └─→ 10-1-3 (예상 시간)

10-2-1 ~ 10-2-4 → 병렬 진행 가능 (Phase 10-1 완료 후 권장)

10-3-1 (공통 구조) → 10-3-2 (라이브러리) → 10-3-3 (PDF)
                                        ├→ 10-3-4 (다크모드)
                                        └→ 10-3-5 (접근성)

10-4-1 ~ 10-4-3 → 독립적 진행 가능
```

### 5.2 Phase 9 대비 진행 시 유의사항

- Phase 10 개발·배포 시 **Phase 9 회귀 테스트·통합 검증**을 유지할 것.
- Reasoning API(9-3) 변경 시 기존 `tests/test_reasoning_api.py`, E2E(phase-9-3 스펙 등) 재실행 권장.

---

## 6. 완료 기준

### 6.1 Phase 10 완료 조건

| 영역       | 완료 기준                            |
| ---------- | ------------------------------------ |
| **UX/UI**  | 진행 상태 5단계 표시, 취소 기능 동작 |
| **시각화** | 4개 모드 각각 시각화 적용            |
| **결과물** | PDF 내보내기 동작, 다크모드 지원     |
| **품질**   | 접근성 WCAG 2.1 AA 준수              |

### 6.2 KPI

| 지표                    | 현재 | 목표     |
| ----------------------- | ---- | -------- |
| 분석 취소율 감소        | -    | 20% 감소 |
| 결과 활용률 (저장/공유) | 0%   | 30%      |
| 사용자 만족도 (NPS)     | -    | 7점 이상 |

---

## 7. 예상 총 작업량

| 단계                          | 예상 일수  |
| ----------------------------- | ---------- |
| Phase 10-1 UX/UI 개선         | 3일        |
| Phase 10-2 모드별 분석 고도화 | 8일        |
| Phase 10-3 결과물 형식 개선   | 5.5일      |
| Phase 10-4 고급 기능 (선택)   | 7일        |
| **합계 (필수)**               | **16.5일** |
| **합계 (전체)**               | **23.5일** |

---

## 부록

### A. 필요 라이브러리

| 용도       | 라이브러리           |
| ---------- | -------------------- |
| 다이어그램 | Mermaid.js           |
| 차트       | Chart.js             |
| 간트 차트  | Gantt.js 또는 Custom |
| 타임라인   | Timeline.js          |
| PDF 생성   | jsPDF, html2canvas   |

### B. Phase 9 구현물 (Phase 10에서 활용)

| Phase 9       | 경로/내용                                                                              |
| ------------- | -------------------------------------------------------------------------------------- |
| 9-3 RAG       | `backend/services/search/hybrid_search.py`, reranker, multi_hop_rag                    |
| 9-3 Reasoning | `backend/services/reasoning/recommendation_service.py`, `dynamic_reasoning_service.py` |
| 9-3 라우터    | `backend/routers/reasoning/reason.py`, `recommendations.py`                            |
| UI            | `web/src/pages/reason.html` (Reasoning Lab)                                            |

### C. Phase 9 Final Summary와의 대응

| Phase 9 Final Summary 내용                 | Phase 10 반영                            |
| ------------------------------------------ | ---------------------------------------- |
| Phase 9-1~9-5 Task 개발 반영·검증 완료     | Phase 10 선행 조건 충족, 착수 가능       |
| API 통합·회귀 테스트 요약                  | Phase 10 진행 시 동일 테스트 유지        |
| Reasoning 한자(중국어) 개선                | Phase 10 UI는 기존 API 응답(한국어) 전제 |
| 다음 권장: Phase 10 진행 시 회귀·통합 검증 | 본 마스터 플랜 §5.2, §6 기준 적용        |

---

**문서 상태**: 확정 (Phase 9 Final Summary 반영)  
**명명 규칙**: [ai-rule-phase-naming.md](../ai/ai-rule-phase-naming.md) — Phase **10-Y** (Y=1,2,3,4), Task **10-Y-N**  
**다음 단계**: Phase 10-1(UX/UI 개선)부터 우선순위에 따라 `phase-10-1/` 폴더·todo-list·Task(10-1-N) 문서 작성
