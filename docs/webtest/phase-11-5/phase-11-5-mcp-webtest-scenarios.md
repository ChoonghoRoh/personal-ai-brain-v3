# Phase 11-5 MCP(Cursor) 웹테스트 시나리오 — 이번 개발(§2.1~§2.4) 검증

**대상**: Phase 11-5 선택 항목 개발(11-5-3~11-5-6) 검증  
**Base URL**: http://localhost:8001  
**용도**: 2차 webtest·MCP-Cursor 테스트 시 체크리스트로 사용.

---

## 1. §2.1 Reasoning Lab 성능·안정성 (11-5-3)

| ID | 시나리오 | 전제 | 단계 | 기대 결과 | 결과/비고 |
|----|----------|------|------|-----------|-----------|
| W11.5.3.1 | 스트리밍 중 취소 후 UI 초기화 | /reason 접속, Reasoning 실행 중 | 1) 실행 버튼 클릭<br>2) 진행 중 취소 버튼 클릭<br>3) 1~2초 대기 | "사용자에 의해 취소됨" 표시 후 결과·답변 영역 초기화, 재실행 버튼 활성화 | |
| W11.5.3.2 | ETA 표시 | /reason 접속 | 1) 모드 선택<br>2) ETA 영역 확인 | "예상 소요 시간: 약 N초~N초" 표시 | |
| W11.5.3.3 | Reasoning 완료 후 ETA 피드백 | Reasoning 1회 완료 | (백엔드 로그 또는 네트워크) | POST /api/reason/eta/feedback 호출(선택 확인) | |

---

## 2. §2.2 시각화 고도화 (11-5-4)

| ID | 시나리오 | 전제 | 단계 | 기대 결과 | 결과/비고 |
|----|----------|------|------|-----------|-----------|
| W11.5.4.1 | 시각화 파싱 실패 시 재시도 | /reason, 결과 생성 후 시각화 표시 | (Mermaid 오류 유도 시) 파싱 실패 시 | "재시도" 버튼 표시, 클릭 시 동일 다이어그램 재렌더 | |
| W11.5.4.2 | 시각화 영역 스크롤·모바일 | /reason, 시각화 결과 표시 | 1) 시각화 패널 확인<br>2) 창 크기 축소(768px 이하) | max-height·overflow 스크롤, 작은 화면에서 레이아웃 유지 | |
| W11.5.4.3 | viz-retry 버튼 스타일 | (에러 폴백 상태) | 재시도 버튼 확인 | 버튼 가독성·다크 모드 대응 | |

---

## 3. §2.3 결과물·접근성 (11-5-5)

| ID | 시나리오 | 전제 | 단계 | 기대 결과 | 결과/비고 |
|----|----------|------|------|-----------|-----------|
| W11.5.5.1 | PDF 내보내기(다크 모드) | /reason, 결과 표시, 다크 모드 ON | 1) 다크 모드 토글<br>2) PDF 내보내기 클릭 | PDF 생성 시 배경색 다크(#1e293b 계열) 반영 | |
| W11.5.5.2 | 다크 모드 일관성 | /reason, 다크 모드 ON | 모달·저장 모달·재시도 버튼 확인 | 테마 변수 적용, 경계·배경 일관 | |
| W11.5.5.3 | WCAG·axe(선택) | /reason 로드 | 브라우저 콘솔에서 axe.run() 또는 E2E axe 스캔 | [wcag-axe-guide.md](../../phases/phase-11-5/wcag-axe-guide.md) 참고 | |

---

## 4. §2.4 공유·저장 고도화 (11-5-6)

| ID | 시나리오 | 전제 | 단계 | 기대 결과 | 결과/비고 |
|----|----------|------|------|-----------|-----------|
| W11.5.6.1 | 공유 URL 생성(만료·비공개 옵션) | /reason, 결과 표시 | 1) 공유 버튼 클릭<br>2) (옵션 UI 있으면) 만료일·비공개 선택<br>3) API 확인 | POST /share 요청 시 expires_in_days, is_private 전달 가능, 200·share_id·url 반환 | |
| W11.5.6.2 | 공유 링크 조회·view_count | 공유 URL 보유 | 1) GET /api/reason/share/{id} 호출 또는 /reason?share={id} 접속 | 200, view_count 증가(API 응답 또는 DB) | |
| W11.5.6.3 | 공유 링크 만료(410) | (만료된 share_id) | GET /api/reason/share/{id} | 410, "공유 링크가 만료되었습니다." | |
| W11.5.6.4 | 의사결정 문서 검색 | 저장된 의사결정 1건 이상 | GET /api/reason/decisions?q=키워드 | 200, title/summary에 키워드 포함 목록 반환 | |

---

## 5. MCP-Cursor 테스트 지시문 예시

**Phase 11-5 이번 개발(§2.1~§2.4) MCP 테스트:**

```
@docs/webtest/phase-11-5/phase-11-5-mcp-webtest-scenarios.md

이 문서의 §2.1~§2.4 시나리오(W11.5.3.1 ~ W11.5.6.4)를
가상 브라우저(MCP)에서 http://localhost:8001 기준으로 순서대로 수행해 줘.

- 각 시나리오별로 접속·동작·결과를 확인하고
- "결과/비고"란에 통과(OK)·실패·비고를 기록해 줘.
- API 검증이 필요한 항목은 curl 또는 네트워크 탭으로 확인해 줘.
```

---

## 6. 결과 기록

2차 webtest·MCP 수행 후 [phase-11-5-webtest-execution-report.md](phase-11-5-webtest-execution-report.md) **§2차 webtest** 섹션 및 본 문서 결과/비고란에 기록.
