# Phase 10-1 MCP(Cursor) 웹테스트 시나리오 — Task당 10개

**대상**: Phase 10-1 UX/UI 개선  
**기준**: [phase-10-1-0-todo-list.md](../../phases/phase-10-1/phase-10-1-0-todo-list.md), Task 10-1-1~10-1-3  
**전제**: E2E(Playwright) 완료 후, MCP cursor-ide-browser 또는 cursor-browser-extension 사용  
**환경**: http://localhost:8001 (백엔드·웹 서버 기동 상태)

---

## 공통 준비

- 브라우저에서 `http://localhost:8001` 접속
- 필요 시 대시보드(`/dashboard`)에서 시작

---

## Task 10-1-1: 진행 상태 실시간 표시 — 시나리오 10개

| #      | 시나리오                    | 조치                                             | 기대 결과                                                          | 검증 방법                                                  |
| ------ | --------------------------- | ------------------------------------------------ | ------------------------------------------------------------------ | ---------------------------------------------------------- |
| **1**  | 진행 단계 컨테이너 존재     | `/reason` 이동 후 DOM 확인                       | `#progress-stages` 또는 `.progress-stage` 요소가 존재              | snapshot에서 progress-stages 또는 progress-stage 노드 존재 |
| **2**  | 5개 단계 스텝 노출          | 페이지 로드 직후 스냅샷                          | 5개의 단계 표시(아이콘/숫자)가 보임                                | `.progress-stage` 5개 또는 단계 라벨 5개                   |
| **3**  | 실행 전 진행률 0%           | 실행 버튼 클릭 전                                | 진행률 바가 0% 또는 비어 있음, 메시지 "준비 중" 또는 유사          | `#progress-bar` width 0% 또는 `#progress-message` 텍스트   |
| **4**  | 실행 클릭 후 로딩 영역 표시 | `#question`에 "테스트" 입력 → `#submit-btn` 클릭 | `#results-loading`이 보이거나 submit 버튼 disabled                 | snapshot에 results-loading 표시 또는 submit-btn[disabled]  |
| **5**  | 단계 1 메시지 확인          | 실행 직후(2초 이내) 스냅샷                       | "질문 분석 중" 또는 "⏳" 포함 메시지                               | `#progress-message` 또는 동일 역할 요소 텍스트             |
| **6**  | 단계 2~4 메시지 순차 확인   | 실행 후 5~15초 구간 스냅샷 2~3회                 | "관련 문서 검색", "연관 지식 확장", "AI 추론" 중 하나 이상 표시    | progress-message 내용이 단계별로 변경됨                    |
| **7**  | 단계 5 메시지 확인          | 완료 직전 스냅샷                                 | "추천 정보 생성 중" 또는 유사 문구                                 | progress-message에 추천 관련 문구                          |
| **8**  | 경과 시간 증가 확인         | 실행 중 2회 스냅샷(간격 5초 이상)                | `#reasoning-elapsed-text`에 "경과 시간: N초"가 증가                | 동일 요소의 N 값이 이전보다 큼                             |
| **9**  | 진행률 바 증가              | 실행 중 스냅샷                                   | `#progress-bar`의 width 또는 style이 0%에서 100% 방향으로 변경     | progress-bar 퍼센트 값 증가                                |
| **10** | 완료 후 로딩 해제           | 결과 수신 후 스냅샷                              | `#results-loading` 숨김, `#results-content` 표시, 진행 메시지 정리 | results-content 표시, results-loading 비표시               |

---

## Task 10-1-2: 분석 작업 취소 기능 — 시나리오 10개

| #      | 시나리오                       | 조치                                         | 기대 결과                                                | 검증 방법                                                |
| ------ | ------------------------------ | -------------------------------------------- | -------------------------------------------------------- | -------------------------------------------------------- |
| **1**  | 취소 버튼 DOM 존재             | `/reason` 로드 후                            | `#cancel-btn` 요소가 DOM에 존재                          | snapshot에 #cancel-btn 노드                              |
| **2**  | 대기 중 취소 버튼 숨김         | 실행 전 스냅샷                               | 취소 버튼이 display:none 또는 보이지 않음                | cancel-btn이 시각적으로 숨김 또는 aria-hidden            |
| **3**  | 실행 중 취소 버튼 노출         | 질문 입력 후 실행 버튼 클릭, 1~2초 내 스냅샷 | 취소 버튼이 보임(클릭 가능)                              | cancel-btn visible, display inline-block 등              |
| **4**  | 취소 버튼 클릭                 | 실행 중 `#cancel-btn` 클릭                   | 취소 API 호출 또는 로딩 상태 해제                        | 네트워크에 /cancel 요청 또는 UI가 "취소됨" 등으로 변경   |
| **5**  | 취소 후 실행 버튼 복구         | 취소 처리 완료 후                            | submit 버튼이 다시 "🚀 Reasoning 실행" 등, disabled 해제 | #submit-btn text 및 disabled=false                       |
| **6**  | 취소 후 취소 버튼 숨김         | 취소 완료 후 스냅샷                          | 취소 버튼이 다시 숨겨짐                                  | cancel-btn display none 또는 비표시                      |
| **7**  | 취소 시 진행 메시지 변경       | 취소 클릭 후 2초 내                          | "사용자에 의해 취소됨" 또는 유사 문구                    | progress-message 텍스트                                  |
| **8**  | 취소 시 진행률 바 색상         | 취소 후                                      | progress-bar가 빨간색 등 취소 상태 스타일                | progress-bar background #ef4444 또는 .progress-cancelled |
| **9**  | 실행 버튼 비활성화 during 실행 | 실행 직후~취소 전                            | submit 버튼 disabled, "⏳ Reasoning 중" 텍스트           | #submit-btn[disabled], aria-busy 등                      |
| **10** | 연속 실행→취소→재실행          | 취소 후 다시 질문 입력하고 실행              | 두 번째 실행이 정상적으로 로딩/진행 표시                 | 두 번째 실행 시 progress/로딩 다시 표시                  |

---

## Task 10-1-3: 예상 소요 시간 표시 — 시나리오 10개

| #      | 시나리오             | 조치                            | 기대 결과                                                    | 검증 방법                                    |
| ------ | -------------------- | ------------------------------- | ------------------------------------------------------------ | -------------------------------------------- |
| **1**  | ETA 영역 DOM 존재    | `/reason` 로드 후               | `#eta-display` 또는 `#eta-text` 요소 존재                    | snapshot에 eta-display 또는 eta-text         |
| **2**  | 초기 ETA 문구        | 페이지 로드 직후                | "예상 소요 시간" 관련 문구 또는 "계산 중" 표시               | eta-text/eta-display 내 텍스트               |
| **3**  | 실행 전 ETA 표시     | 실행 버튼 클릭 전(옵션 로드 후) | "예상 소요 시간: 약 N초" 또는 "~N분" 형식                    | 숫자+단위(초/분) 포함                        |
| **4**  | 실행 시 ETA 갱신     | 실행 클릭 후 로딩 구간          | ETA가 "약 20초~45초" 등 구간으로 표시되거나 유지             | eta-text 내용에 시간 범위 또는 단일 값       |
| **5**  | 모드 변경 시 ETA     | 모드 셀렉트 변경 후(실행 전)    | 모드별로 ETA가 다를 수 있음(동일해도 무방)                   | 모드 변경 후 eta 영역 텍스트 확인            |
| **6**  | ETA 가독성           | 스냅샷                          | ETA 문구가 한 줄 또는 짧은 블록으로 읽기 쉬움                | 레이아웃·폰트 크기 등                        |
| **7**  | ETA 폴백             | API 실패 시(선택)               | "예상 소요 시간: 약 30초~1분" 등 기본 문구                   | 네트워크 차단 후 표시되는 기본값             |
| **8**  | ETA 위치             | 시각적 배치                     | 진행 상태 또는 로딩 영역 근처에 ETA 표시                     | results-loading 또는 progress 영역 인접      |
| **9**  | ETA와 경과 시간 구분 | 실행 중 스냅샷                  | "예상 소요 시간"과 "경과 시간: N초"가 둘 다 있으면 구분 가능 | eta-text vs reasoning-elapsed-text 별도 노드 |
| **10** | 완료 후 ETA 유지     | 결과 표시 후                    | ETA 영역이 사라지지 않고 유지되거나, 다음 실행을 위해 유지   | 다음 실행 전까지 eta 영역 존재               |

---

## MCP 실행 체크리스트 (권장 순서)

1. **10-1-1**: 시나리오 1→2→3→4→5→6→7→8→9→10 (실행 1회로 4~10 가능)
2. **10-1-2**: 시나리오 1→2→3→4→5→6→7→8→9→10 (실행 후 취소로 3~8, 재실행으로 10)
3. **10-1-3**: 시나리오 1→2→3→4→5→6→7→8→9→10 (실행 1회 + 모드 변경으로 4~5, 9~10)

---

## 결과 기록 템플릿

| Task   | 시나리오 1~10        | 통과 | 비고 |
| ------ | -------------------- | ---- | ---- |
| 10-1-1 | 1 2 3 4 5 6 7 8 9 10 | ?/10 |      |
| 10-1-2 | 1 2 3 4 5 6 7 8 9 10 | ?/10 |      |
| 10-1-3 | 1 2 3 4 5 6 7 8 9 10 | ?/10 |      |

**총 30개 시나리오** — MCP 브라우저로 각 조치 수행 후 기대 결과 확인하여 통과/실패 기록.
