# Phase 9-3 웹 테스트 결과 보고서 — 개발자 관점

**관점**: 개발자 (버그·에러·API·재현 단계·예상 vs 실제 검증)  
**기준 문서**: [personas.md](../personas.md), [prompt-developer.md](../../prompts/prompt-developer.md)  
**테스트 기준**: [phase-9-3-web-user-checklist.md](../../../phases/phase-9-3/phase-9-3-web-user-checklist.md)

**수행 방법**: Cursor MCP 브라우저 호출이 본 세션에서 불가하여, Phase 9-3 대응 Playwright E2E 실행(19항목 통과) 및 코드·API 구조 검토를 바탕으로 개발자 관점 발견 사항을 정리함.

- **"본 세션에서 불가" 의미**: 테스트를 수행한 Cursor 세션(또는 에이전트 환경)에서 **브라우저 MCP 서버**가 활성화되지 않았거나, `localhost:8000` 접근이 되지 않는 등의 이유로 **방안 A(MCP·Cursor)** 대신 **방안 C(E2E)** 를 사용한 경우를 뜻합니다. (가이드: [phase-unit-user-test-guide.md](../../phase-unit-user-test-guide.md) 0절·방안 A/C)
- **대안으로 한 작업**: 체크리스트 시나리오에 대응하는 Playwright E2E(`e2e/phase-9-3.spec.js`)를 실행해 19항목 통과를 확인하고, 프론트/백엔드 코드·API 구조를 검토한 뒤, 개발자 관점(버그·에러·재현 단계·예상 vs 실제)으로 발견 사항을 정리했습니다. MCP 브라우저를 사용할 수 있는 세션에서는 동일 체크리스트를 **방안 A**로 수행한 뒤 이 보고서를 보완할 수 있습니다.

---

## 1. 시나리오별 발견 내용

| 시나리오 ID  | 관점   | 재현 단계 / 예상·실제                                                                                                                                                                 | 로그/에러 요약                                                                 |
| ------------ | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| W1.x, W2.x   | 개발자 | 1) /dashboard, /search 접속 2) 링크 클릭, 검색어 입력·검색 3) 예상: 2xx 응답, DOM 요소 존재 4) 실제: E2E 통과.                                                                        | —                                                                              |
| W3.1         | 개발자 | Ask 페이지 접속 시 domcontentloaded 기준 15s 타임아웃 적용. 일부 환경에서 로드 지연 시 타임아웃 가능성 있음.                                                                          | 네트워크/로드 느릴 경우 timeout 조정 또는 waitUntil 검토 권장.                 |
| W4.x         | 개발자 | Reasoning Lab: #question, #mode, #submit-btn, #recommendations-section, .rec-toggle 존재. 추론 실행 시 API 호출·LLM 응답 대기 구간에서 로딩 UI·버튼 비활성화 처리됨(기존 개선 반영).  | 콘솔 에러 없음. API 실패 시 error-message 영역 표시 여부를 한 번 더 확인 권장. |
| W5.1~W8.1    | 개발자 | /knowledge, /knowledge-detail?id=1, /knowledge-label-matching?id=1, /knowledge-relation-matching?id=1 접속 시 페이지 로드·핵심 영역 표시. chunk_id=1이 없어도 200·빈 상태로 렌더링됨. | 존재하지 않는 chunk_id에 대한 API 응답(404 vs 200+빈 데이터) 정책 확인 권장.   |
| W9.x, W10.x  | 개발자 | 지식 관리·청크 승인 센터: 탭 전환·목록 영역·필터·전체 승인 버튼 DOM 존재. API: 승인/반려·관계 추천 호출은 실제 데이터로 별도 검증 필요.                                               | —                                                                              |
| W11.1        | 개발자 | 청크 관리: #chunk-search, #chunk-list 존재. 검색/필터/페이징은 API 연동 후 동작 확인 권장.                                                                                            | —                                                                              |
| W12.1, W12.4 | 개발자 | 청크 생성: 1·2·3단계 탭, #storage-file-list 표시. 파일 목록은 스토리지 API 연동.                                                                                                      | 1단계 파일 목록 로드 실패 시 에러 메시지·재시도 노출 여부 확인 권장.           |

---

## 2. 버그·이슈 요약

| 구분               | 내용                                                                                                                                                                               |
| ------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **확인된 버그**    | E2E 19항목 통과. 현재 스펙 범위 내에서 치명적 버그 미발견.                                                                                                                         |
| **추가 검증 권장** | (1) Ask/Reasoning LLM 연동 구간: API 타임아웃·5xx 시 클라이언트 에러 메시지·재시도 (2) chunk_id 없음/잘못된 id: API·UI 응답 일관성 (3) 청크 생성 1단계: 스토리지 목록 실패 시 처리 |
| **재현 정보**      | 모든 시나리오: Base URL http://localhost:8000, Chromium, Playwright.                                                                                                               |

---

## 3. 정리

- **콘솔/API**: E2E 실행 시 명시된 JavaScript 에러·실패한 네트워크 요청 없음.
- **로딩/타임아웃**: Reasoning 실행 시 로딩 표시·버튼 비활성화 적용됨. Ask 페이지는 로드 타임아웃 15s 사용.
- **제안**: LLM·스토리지 의존 시나리오는 실제 백엔드·Ollama 기동 상태에서 한 번 더 수동 또는 E2E로 검증하고, 예외 응답(4xx/5xx) 시 UI 메시지를 요구사항에 맞게 노출하는지 확인 권장.

---

**작성일**: 2026-02-03  
**테스트 수행**: Playwright E2E(phase-9-3) + 코드/API 검토 기반
